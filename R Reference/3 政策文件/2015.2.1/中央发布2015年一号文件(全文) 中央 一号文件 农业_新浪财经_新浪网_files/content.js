/*  1,87,281 2012-12-07 10:34:06 */
//全局 begin
//GetObj
function GetObj(a){if(document.getElementById){return eval('document.getElementById("'+a+'")')}else if(document.layers){return eval("document.layers['"+a+"']")}else{return eval('document.all.'+a)}}
//hiddenObj
function hiddenObj(a){GetObj(a).style.display="none"}
//showObj
function showObj(a){GetObj(a).style.display="block"}
//全局 end

document.domain = "sina.com.cn";

//try{document.domain = "sina.com.cn";
//}catch(e){}

//保存功能
var SinaSavePage = {
	save : function(url){
		if(typeof url != 'string'){
			url = window.location.href;
		}
		window.open('http://roll.news.sina.com.cn/savepage/save.php?url=' + encodeURIComponent(url), 'savePage')
	}
};

//============== 090525 针对视频播放器的调整 start ===========
var FlvPlayerCode = new Object();
FlvPlayerCode.data = {
	playerCode : ""
};

var getFlvPlayerCode = function(){
	if(GetObj("myMovie")){
		if(GetObj("p_player").childNodes[0].tagName == "OBJECT"){
			var myMovieParam = new Array();
			var myMovieParamList = new Array();
			myMovieParamList[0] = sinaBokePlayerConfig_o.playerWidth;//swf的宽度
			myMovieParamList[1] = sinaBokePlayerConfig_o.playerHeight;//swf的高度
			myMovieParamList[4] = "";//flashvars
			for(var i=0;i<GetObj("myMovie").childNodes.length;i++){
				myMovieParam[i] = new Array();
				myMovieParam[i][0] = GetObj("myMovie").childNodes[i].name;
				myMovieParam[i][1] = GetObj("myMovie").childNodes[i].value;
				if(myMovieParam[i][0] == "movie"){
					myMovieParamList[2] = myMovieParam[i][1];//swf的url
				}else if(myMovieParam[i][0] == "flashvars"){
					myMovieParamList[3] = myMovieParam[i][1];//swf的参数
				}
			}
			GetObj("p_player").innerHTML = "";
			FlvPlayerCode.data.playerCode = "<embed width=\"" + myMovieParamList[0] + "\" height=\"" + myMovieParamList[1] + "\" flashvars=\"" + myMovieParamList[3] + "\" src=\"" + myMovieParamList[2] + "\" allowscriptaccess=\"always\" wmode=\"transparent\" allowfullscreen=\"true\" quality=\"high\" name=\"myMovie\" id=\"myMovie\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" \/>";
			//alert(FlvPlayerCode.data.playerCode);
			GetObj("p_player").innerHTML = FlvPlayerCode.data.playerCode;
		}else{
			FlvPlayerCode.data.playerCode = GetObj("p_player").innerHTML;
		}
	}
};
//============== 090525 针对视频播放器的调整 end ===========

//========================= 设置字体大中小 start =============
function doZoom(size){
	/*var artibody = document.getElementById("artibody");
	if(!artibody){
		return;
	}
	var artibodyChild = artibody.childNodes;
	artibody.style.fontSize = size + "px";
	//再对artibody div内的直接html节点设置fontSize属性
	for(var i = 0; i < artibodyChild.length; i++){
		if(artibodyChild[i].nodeType == 1){
			artibodyChild[i].style.fontSize = size + "px";
		}
	}*/
	var artibody = document.getElementById("artibody");
	artibody.className = "blkContainerSblkCon blkContainerSblkCon_" + size;
}
//========================= 设置字体大中小 end =============

//========================= 打印正文部分 start =============
//print js begin
function LoadPrintJsCallBack(){
  if(typeof forSPrint == "object" && forSPrint.Print){
    forSPrint.Print();
  }
}
function LoadPrintJs(){

	//090515001 ws begin
	getFlvPlayerCode();
	//090515001 ws end

  var jsFile = "http://news.sina.com.cn/js/ui/con08/print_11090203.js";  //打印主js文件url
  jsFile += "?t="+ (new Date()).getTime();
  var js = document.createElement("script");
  js.setAttribute("src",jsFile); 
  js.setAttribute("type","text\/javascript");
  js.setAttribute( "id", "sinaPrintJsUrl");
  //for ie
  js.onreadystatechange = function(){
  if(js.readyState=="loaded"){
     LoadPrintJsCallBack();
  }
};
//for ff
js.onload = LoadPrintJsCallBack;
  document.body.insertBefore(js,null); // null for ff
}

//print js end
//========================= 打印正文部分 end =============

//========================= 处理广告有效性 start =============
/**
 * 判断广告有效性
 * @return boolean
 */
//发布日期
var pagepubtime;
//需要检测的日期差
var difDay;

//广告显示判断
function checkPubTime(){

	//分解年、月、日
	DateTime = new Array(); 
	DateTime = pagepubtime.split("-");
	var year = DateTime[0];
	var month = DateTime[1];
	var day = DateTime[2];

	//用得到的年、月、日生成日期对象
	var pubTime = new Date(year,month - 1,day);
	//得到当前日期
	var now = new Date();

	//计算出当前日期与发布日期之间的毫秒差值
	var dif = now.getTime() - pubTime.getTime();

	//一天24小时、一小时60分、一分60秒、一秒1000毫秒
	if(dif > difDay * 24 * 60 * 60 * 1000){
		return false;
	}
	return true;
}
/**
 * 处理广告图片 指定天数后不显示 广告图片初始使用css控制不显示
 * @param 多个广告容器的id
 */
function HandlerAd(){
	var curObj = null;
	for(var i = 0; i < arguments.length; i++){
		curObj = GetObj(arguments[i]);
		if(checkPubTime()){
			if(!curObj){ 
				continue;
			}
			curObj.style.display = "block";
		}
	}
}
//========================= 处理广告有效性 end =============

//统一登录 begin
var contentPageLogin = {
	status : '',
	_timeObj : null,
	init : function(){
		var tempThis = this;
		clearInterval(this._timeObj);
		this._timeObj = setInterval(function(){tempThis.chkStatus()},5000);
	},
	login : function(){
		var nick_name;
		if(typeof(sinaSSOManager) == 'object'){
			nick_name = sinaSSOManager.getSinaCookie();
			nick_name = nick_name.nick;
		};
		var c,a,d;
		if(nick_name!="" && nick_name != "undefined" && nick_name != null){
			a = nick_name;
		}else{
			a = getUserCookie("SU");
			var b = a.split(":");
			if (b.length > 1) {
				a = decodeURI(b[3])
			};
		}
		c = "";
		if (a != "" && a != "null" && a != null && a != "undefined") {
			if (a.length > 4) {
				c = a;
				d = a.substr2(0, 6);
				if(a!=d){
					a = d + "..";
				}
			}
			sina.$("content_mainNav_uq_username").innerHTML = a;
			sina.$("content_mainNav_uq_username").title = c
		}
		showObj("content_mainNav_uq_username");
		showObj("content_mainNav_uniproquit");
		hiddenObj("content_mainNav_uniprolink");
		sina.$("content_mainNav").className = "hd_nav hd_nav_log";

		this.init();
	},
	logout : function(){
		showObj("content_mainNav_uniprolink");
		hiddenObj("content_mainNav_uniproquit");
		hiddenObj("content_mainNav_uq_username");
		sina.$("content_mainNav").className = "hd_nav";

		this.init();
	},
	setStatus : function(status){
		if(status == this.status){
			return;
		};
		if(status=='login'){
			this.status = 'login';
			this.login();
		}else{
			this.status = 'logout';
			this.logout();
		};
	},
	chkStatus : function(){
		//debugger;
		var islogin = sinaSSOManager.getSinaCookie();
		if(islogin){
			this.setStatus('login');
		}else{
			this.setStatus('logout');
		};
	}
};

String.prototype.getStartPst = function(s) {
var newLength = 0;
var newStr = "";
var chineseRegex = /[^\x00-\xff]/g;
var singleChar = "";
var strLength = this.replace(chineseRegex, "**").length;
for(var i = 0; i < strLength; i++) {
singleChar = this.charAt(i).toString();
if(singleChar.match(chineseRegex) != null) {
newLength += 2;
} else {
newLength++;
}
if(newLength > s) {
break;
}
newStr += singleChar;
}
return newStr.length;
};

String.prototype.substr2 = function(s, e) {
s = this.getStartPst(s);
var newLength = 0;
var newStr = "";
var chineseRegex = /[^\x00-\xff]/g;
var singleChar = "";
var strLength = this.replace(chineseRegex, "**").length;
for(var i = 0; i < strLength; i++) {
singleChar = this.charAt(i).toString();
if(singleChar.match(chineseRegex) != null) {
newLength += 2;
} else {
newLength++;
}
if(newLength > e) {
break;
}
newStr += singleChar;
}
return newStr.substring(s);
} 

function getUserCookie(name) {
  var search;
  search = name + "="
  offset = document.cookie.indexOf(search) 
  if (offset != -1) {
    offset += search.length ;
    end = document.cookie.indexOf(";", offset) ;
    if (end == -1)
      end = document.cookie.length;
    return document.cookie.substring(offset, end);
  }else{
  	return "";
  }
};
var getCookie = getUserCookie;
function unipro_clearCookie(name ) {
	document.cookie=name+"=; " + "domain=sina.com.cn; path=/; ";     
	//bites = document.cookie.split("; ");
}
function getMobileNum(ckName){
var userInfo = getUserCookie(ckName).split(":");
	return userInfo[2];
}
function unipro_UniProLogout() {
	unipro_clearCookie("SE");
	unipro_clearCookie("SCT");
	unipro_clearCookie("SU");
	unipro_clearCookie("SA");
	unipro_clearCookie("PS");
	if(getUserCookie("SINAPRO") != "" && getUserCookie("SINAPRO") != null){ //清查旧版Cookie
		unipro_clearCookie("SINAPRO");
		unipro_clearCookie("SINA-AVATAR");
		unipro_clearCookie("SINAPROC");
		unipro_clearCookie("nick");
		unipro_clearCookie("SINA_NU");
		unipro_clearCookie("SINA_OU");
		unipro_clearCookie("appmask");
		unipro_clearCookie("gender");
		unipro_clearCookie("UNIPROTM");
		unipro_clearCookie("UNIPROU");
		unipro_clearCookie("SINA_USER");
		unipro_clearCookie("SMS_COOKIE");
	}
	return true;
}
function getUniproUrl_stand(){
	window.location='http://unipro.sina.com.cn/';
	return false;
}
function getUniproUrl_welcome(){
	unipro_UniProLogout();
	window.location=location.href;
	return false;	
}
function print_stand_unipro_head() {
	contentPageLogin.logout();
}
function print_stand_unipro_welcome(nick_name) {
	contentPageLogin.login();
};
//统一登录 end

//medialogo resize begin
var flag=false;function DrawImage(a){var b=new Image();var c=999;var d=21;b.src=a.src;if(b.width>0&&b.height>0){flag=true;if(b.width/b.height>=c/d){if(b.width>c){a.width=c;a.height=(b.height*c)/b.width}else{a.width=b.width;a.height=b.height}}else{if(b.height>d){a.height=d;a.width=(b.width*d)/b.height}else{a.width=b.width;a.height=b.height}}}}
//medialogo resize end

/*
舌签构造函数
SubShowClass(ID[,eventType][,defaultID][,openClassName][,closeClassName])
version 1.21
*/
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('s 7(h,j,k,l,m){5.1i="1.1j";5.1k="1l";5.t=7.$(h);6(5.t==p&&h!="9"){L M N("7(w)参数错误:w 对像存在!(V:"+h+")")};6(!7.u){7.u=[]};5.w=7.u.q;7.u.1b(5);5.1m=r;5.8=[];5.W=k==p?0:k;5.B=5.W;5.X=l==p?"1n":l;5.Y=m==p?"":m;5.O=r;x n=Z("7.u["+5.w+"].O = z"),G=Z("7.u["+5.w+"].O = r");6(h!="9"){6(5.t.v){5.t.v("10",n)}y{5.t.H("11",n,r)}};6(h!="9"){6(5.t.v){5.t.v("12",G)}y{5.t.H("13",G,r)}};6(14(j)!="1o"){j="1p"};j=j.1q();1r(j){P"10":5.A="11";I;P"12":5.A="13";I;P"1s":5.A="1t";I;P"1u":5.A="1v";I;1w:5.A="1x"};5.1c=s(a,b,c,d,e){6(7.$(a)==p&&a!="9"){L M N("1c(1d)参数错误:1d 对像存在!(V:"+a+")")};x f=5.8.q;6(c==""){c=p};5.8.1b([a,b,c,d,e]);x g=Z(\'7.u[\'+5.w+\'].C(\'+f+\')\');6(a!="9"){6(7.$(a).v){7.$(a).v("1y"+5.A,g)}y{7.$(a).H(5.A,g,r)}};6(f==5.W){6(a!="9"){7.$(a).Q=5.X};6(7.$(b)){7.$(b).D.R=""};6(h!="9"){6(c!=p){5.t.D.1e=c}};6(d!=p){J(d)}}y{6(a!="9"){7.$(a).Q=5.Y};6(7.$(b)){7.$(b).D.R="9"}};6(7.$(b)){6(7.$(b).v){7.$(b).v("10",n)}y{7.$(b).H("11",n,r)};6(7.$(b).v){7.$(b).v("12",G)}y{7.$(b).H("13",G,r)}}};5.C=s(a,b){6(14(a)!="15"){L M N("C(1f)参数错误:1f 不是 15 类型!(V:"+a+")")};6(b!=z&&5.B==a){S};x i;16(i=0;i<5.8.q;i++){6(i==a){6(5.8[i][0]!="9"){7.$(5.8[i][0]).Q=5.X};6(7.$(5.8[i][1])){7.$(5.8[i][1]).D.R=""};6(h!="9"){6(5.8[i][2]!=p){5.t.D.1e=5.8[i][2]}};6(5.8[i][3]!=p){J(5.8[i][3])}}y 6(5.B==i||b==z){6(5.8[i][0]!="9"){7.$(5.8[i][0]).Q=5.Y};6(7.$(5.8[i][1])){7.$(5.8[i][1]).D.R="9"};6(5.8[i][4]!=p){J(5.8[i][4])}}};5.B=a};5.17=s(){6(E.q!=5.8.q){L M N("17()参数错误:参数数量与标签数量不符!(q:"+E.q+")")};x a=0,i;16(i=0;i<E.q;i++){a+=E[i]};x b=1z.17(),18=0;16(i=0;i<E.q;i++){18+=E[i]/a;6(b<18){5.C(i);I}}};5.F=r;x o=p;5.K=1A;5.1B=s(a){6(14(a)=="15"){5.K=a};T(o);o=19("7.u["+5.w+"].U()",5.K);5.F=z};5.U=s(){6(5.F==r||5.O==z){S};5.1g()};5.1g=s(){x a=5.B;a++;6(a>=5.8.q){a=0};5.C(a);6(5.F==z){T(o);o=19("7.u["+5.w+"].U()",5.K)}};5.1C=s(){x a=5.B;a--;6(a<0){a=5.8.q-1};5.C(a);6(5.F==z){T(o);o=19("7.u["+5.w+"].U()",5.K)}};5.1D=s(){T(o);5.F=r}};7.$=s(a){6(1a.1h){S J(\'1a.1h("\'+a+\'")\')}y{S J(\'1a.1E.\'+a)}}',62,103,'|||||this|if|SubShowClass|label|none||||||||||||||||null|length|false|function|parentObj|childs|attachEvent|ID|var|else|true|eventType|selectedIndex|select|style|arguments|autoPlay|mouseOutFunc|addEventListener|break|eval|spaceTime|throw|new|Error|mouseIn|case|className|display|return|clearInterval|autoPlayFunc|value|defaultID|openClassName|closeClassName|Function|onmouseover|mouseover|onmouseout|mouseout|typeof|number|for|random|percent|setInterval|document|push|addLabel|labelID|background|num|nextLabel|getElementById|version|21|author|mengjia|lock|selected|string|onmousedown|toLowerCase|switch|onclick|click|onmouseup|mouseup|default|mousedown|on|Math|5000|play|previousLabel|stop|all'.split('|'),0,{}))

//===========================
//全文浏览
function LoadFullViewJsCallBack(){
  if(typeof forSFullView == "object" && forSFullView.FullView){
    forSFullView.FullView();
  }
}
function LoadFullViewJs(){

	//090515001 ws begin
	getFlvPlayerCode();
	//090515001 ws end

  var jsFile = "http://news.sina.com.cn/js/ui/con08/fullscreenview_11090203.js";  //全文浏览主js文件url
  jsFile += "?t="+ (new Date()).getTime();
  var js = document.createElement("script");
  js.setAttribute("src",jsFile); 
  js.setAttribute("type","text\/javascript");
  js.setAttribute( "id", "sinaFullViewJsUrl");
  //for ie
  js.onreadystatechange = function(){
  if(js.readyState=="loaded"){
     LoadFullViewJsCallBack();
  }
};
//for ff
js.onload = LoadFullViewJsCallBack;
  document.body.insertBefore(js,null); // null for ff
}
//===========================

//===========================
//为了美观，不要报错
function killerr(){return true;}
window.onerror = killerr;
//===========================

//sinalib
(function(b,d){var c=b.SINA,a;b.SINA=a={VERSION:"0.1"};a.extend=function(f,h,e){if(!h||!f||f===h){return f||null}var g;if(e){for(g in h){f[g]=h[g]}}else{for(g in h){if(!f.hasOwnProperty(g)){f[g]=h[g]}}}return f}})(window);(function(h){var A="array",p="boolean",g="date",k="error",l="function",t="number",z="null",o="object",v="regexp",q="string",B="undefined",m=Object.prototype.toString,j=Object.prototype.hasOwnProperty,f=String.prototype.trim,d=String.prototype.trimLeft,x=String.prototype.trimRight,a=/^\s+|\s+$/g,r=/^\s+/g,u=/\s+$/g,c="",y=false,n=[],b={"undefined":B,number:t,"boolean":p,string:q,"[object Function]":l,"[object RegExp]":v,"[object Array]":A,"[object Date]":g,"[object Error]":k},i=Array.prototype.slice,s=function(e){return i.call(e,0)};try{i.call(document.documentElement.childNodes,0)}catch(w){s=function(C){var e=[],E=C.length,D=0;for(;D<E;D++){e[D]=C[D]}return e}}h.extend(h,{isArray:Array.isArray||function(e){return h.type(e)===A},isBoolean:function(e){return typeof e===p},isFunction:function(e){return h.type(e)===l},isDate:function(e){return h.type(e)===g&&e.toString()!=="Invalid Date"&&!isNaN(e)},isNull:function(e){return e===null},isNumber:function(e){return typeof e===t&&isFinite(e)},isObject:function(C){var e=typeof C;return(C&&(e===o||e===l||h.isFunction(C)))||false},isPlainObject:function(C){if(!C||h.type(C)!==o||C.nodeType||h.isWindow(C)){return false}if(C.constructor&&!j.call(C,"constructor")&&!j.call(C.constructor.prototype,"isPrototypeOf")){return false}var e;for(e in C){}return e===undefined||j.call(C,e)},isEmptyObject:function(C){if(!h.isObject(C)){return false}for(var e in C){return false}return true},isString:function(e){return typeof e===q},isUndefined:function(e){return typeof e===B},type:function(e){return b[typeof e]||b[m.call(e)]||(e?o:z)},isElement:function(e){return !!e&&e.nodeType===1},isDocument:function(e){return !!e&&e.nodeType===9},isWindow:function(e){return !!(e&&e.alert&&e.document)},each:function(H,F,E){if(!H||!F){return}var D,I,C,G=H.length,e=(G===undefined||h.isFunction(H));content=E||window;if(e){for(D in H){F.call(E,H[D],D,H)}}else{for(C=0;C<G;C++){F.call(E,H[C],C,H)}}},trim:f?function(e){return(!e)?"":f.call(e)}:function(e){return(!e)?"":e.toString().replace(a,c)},trimLeft:d?function(e){return(!e)?"":d.call(e)}:function(e){return(!e)?"":e.toString().replace(r,c)},trimRight:x?function(e){return(!e)?"":x.call(e)}:function(e){return(!e)?"":e.toString().replace(u,c)},later:function(K){var F,I,H,J,G,e,E,C,D={fn:function(){},delay:0,isPeriodic:false,context:null,params:[]};if(!h.isFunction(K)&&h.isObject(K)){h.extend(K,D,false);J=K.fn;G=K.delay||0;e=!!K.isPeriodic;E=K.params;C=K.context}else{J=arguments[0];G=arguments[1]||0;e=!!arguments[2];C=arguments[3]||null;E=arguments[4]||[]}I=J;if(C&&typeof J==="string"){I=C[J]}if(!I){return null}H=(E&&E.length)?function(){I.apply(C,E)}:function(){I.call(C)};F=e?setInterval(H,G):setTimeout(H,G);return{id:F,periodic:e,cancel:function(){if(this.periodic){clearInterval(this.id)}else{clearTimeout(this.id)}}}},arrayify:function(e){if(e===undefined){return[]}if(h.isArray(e)){return e}if(e===null||typeof e.length!=="number"||h.isString(e)||h.isFunction(e)){return[e]}return s(e)},now:Date.now||function(){return(new Date()).getTime()},isReady:false,ready:function(e){if(!y){h._bindReady()}if(h.isReady){e.call(window,h)}else{n.push(e)}},_bindReady:function(){var H=this,e=document.documentElement.doScroll,E=e?"onreadystatechange":"DOMContentLoaded",F=function(){H._fireReady()};y=true;if(document.readyState==="complete"){return F()}if(document.addEventListener){function D(){document.removeEventListener(E,D,false);F()}document.addEventListener(E,D,false);window.addEventListener("load",F,false)}else{function C(){if(document.readyState==="complete"){document.detachEvent(E,C);F()}}document.attachEvent(E,C);window.attachEvent("onload",F);if(window==window.top){function G(){try{e("left");F()}catch(I){setTimeout(G,1)}}G()}}},_fireReady:function(){if(h.isReady){return}h.isReady=true;if(n){var C,e=0;while(C=n[e++]){C.call(window,h)}n=null}},camelCase:function(e){return e.replace(/-([a-z])/ig,function(D,C){return C.toUpperCase()})},toInt:function(C,e){e=e||10;e=parseInt(""+C,e);return isNaN(e)?0:e},toFloat:function(e){e=parseFloat(""+e);return isNaN(e)?0:e}})})(SINA);(function(c){if(!c.Array){c.Array={}}var e=Array.prototype.forEach,a=Array.prototype.map,f=Array.prototype.indexOf,i=Array.prototype.lastIndexOf,d=Array.prototype.every,h=Array.prototype.some,b=Array.prototype.filter,g=Array.prototype.slice;c.extend(c.Array,{forEach:e?function(l,k,j){e.call(l,k,j)}:function(n,m,l){var k=0,j=n.length;for(;k<j;k++){m.call(l,n[k],k,n)}},map:a?function(l,k,j){return a.call(l,k,j)}:function(o,n,m){var k,l=0,j=o.length;if(c.type(n)==="function"){k=[];for(;l<j;l++){k[l]=n.call(m,o[l],l,o)}return k}else{return g.call(o,0)}},indexOf:f?function(l,j,k){return f.call(l,j,k)}:function(n,l,m){var j=-1,k=n.length;if(typeof(m)!="number"){m=0}else{if(m<0){m=k+m;if(m<0){m=0}}}while(m<k){if(n[m]===l){j=m;break}m++}return j},lastIndexOf:i?function(l,j,k){return i.call(l,j,k)}:function(n,l,m){var j=-1,k=n.length;if(typeof(m)!="number"||m>=k){m=k-1}else{if(m<0){m=k+m}}while(m>=0){if(n[m]===l){j=m;break}m--}return j},every:d?function(l,j,k){return d.call(l,j,k)}:function(o,j,n){var k=true,l=0,m=o.length;for(;l<m;l++){if(!j.call(n,o[l],l,o)){k=false;break}}return k},some:h?function(l,j,k){return h.call(l,j,k)}:function(o,j,n){var k=false,l=0,m=o.length;for(;l<m;l++){if(j.call(n,o[l],l,o)){k=true;break}}return k},filter:b?function(l,j,k){return b.call(l,j,k)}:function(o,j,n){var k=[],l=0,m=o.length;for(;l<m;l++){if(j.call(n,o[l],l,o)){k.push(o[l])}}return k},remove:function(n,j,m){var k=n.length-1,l=c.type(j);if(l=="number"){if(j>=0&&j<=k){n.splice(j,1)}}else{if(l=="function"){while(k>=0){if(j.call(m,n[k],k,n)){n.splice(k,1)}k--}}}return n}})})(SINA);(function(g){var v=(navigator&&navigator.userAgent)||"",u=(location&&location.href)||"",z=/windows|win32/i,y=/macintosh/i,i=/AppleWebKit\/([^\s]*)/,d=/Presto\/([^\s]*)/,c=/Gecko\/([^\s]*)/,k=/rv:([^\s\)]*)/,j=/Trident\/([^\s]*)/,f=/MSIE\s([^;]*)/,o=/Firefox\/([^\s]*)/,B=/Chrome\/([^\s]*)/,s=/\/([^\s]*) Safari/,m=/Opera[\s\/]([^\s]*)/,p=/Opera Mini[^;]*/,a=/AdobeAIR\/([^\s]*)/,l=/ Mobile\//,x=/OS ([^\s]*)/,b=/iPad|iPod|iPhone/,q=/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,h=/Android ([^\s]*);/,n=/webOS\/([^\s]*);/,r=/NokiaN[^\/]*/,e=/KHTML/,w,t=function(C){var D=0;return parseFloat(C.replace(/\./g,function(){D++;return(D===1)?".":""}))},A={trident:0,gecko:0,webkit:0,presto:0,ie:0,firefox:0,chrome:0,safari:0,opera:0,mobile:null,https:false,os:null};A.https=(u.toLowerCase().indexOf("https")===0);if(v){if(z.test(v)){A.os="windows"}else{if(y.test(v)){A.os="mac"}else{A.os="other"}}w=v.match(f);if(w&&w[1]){A.trident=1;A.ie=t(w[1]);w=v.match(j);if(w&&w[1]){A.trident=t(w[1])}}else{w=v.match(c);if(w){A.gecko=1;w=v.match(k);if(w&&w[1]){A.gecko=t(w[1])}w=v.match(o);if(w&&w[1]){A.firefox=t(w[1])}}else{w=v.match(i);if(w&&w[1]){A.webkit=t(w[1]);w=v.match(B);if(w&&w[1]){A.chrome=t(w[1])}else{w=v.match(s);if(w&&w[1]){A.safari=t(w[1])}}if(l.test(v)){w=v.match(b);if(w&&w[0]){A.mobile=w[0].toLowerCase()}}else{w=v.match(q);if(w&&w[0]){A.mobile=w[0].toLowerCase()}}}else{w=v.match(d);if(w&&w[1]){A.presto=t(w[1]);w=v.match(m);if(w&&w[1]){A.opera=t(w[1]);w=v.match(p);if(w){A.mobile=w[0]}}}}}}}g.UA=A})(SINA);(function(i){if(i.support){return}var k,A=document,y=A.documentElement,s=A.documentElement,x=A.createElement("script"),l=A.createElement("div"),n="script"+(+new Date()),h=function(e,m){for(var a in e){m(e[a],a,e)}};l.style.display="none";l.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var g=l.getElementsByTagName("*"),w=l.getElementsByTagName("a")[0],p=A.createElement("select"),f=p.appendChild(A.createElement("option"));if(!g||!g.length||!w){return}k={byClassName:!!A.getElementsByClassName,leadingWhitespace:l.firstChild.nodeType===3,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,style:/red/.test(w.getAttribute("style")),hrefNormalized:w.getAttribute("href")==="/a",opacity:/^0.55$/.test(w.style.opacity),cssFloat:!!w.style.cssFloat,checkOn:l.getElementsByTagName("input")[0].value==="on",optSelected:f.selected,optDisabled:false,checkClone:false,scriptEval:false,noCloneEvent:true};p.disabled=true;k.optDisabled=!f.disabled;x.type="text/javascript";try{x.appendChild(A.createTextNode("window."+n+"=1;"))}catch(v){}s.insertBefore(x,s.firstChild);if(window[n]){k.scriptEval=true;delete window[n]}s.removeChild(x);if(l.attachEvent&&l.fireEvent){l.attachEvent("onclick",function r(){k.noCloneEvent=false;l.detachEvent("onclick",r)});l.cloneNode(true).fireEvent("onclick")}l=A.createElement("div");l.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var d=A.createDocumentFragment();d.appendChild(l.firstChild);k.checkClone=d.cloneNode(true).cloneNode(true).lastChild.checked;s=x=l=g=w=null;k.video=(function(){var e=A.createElement("video"),a=!!e.canPlayType;if(a){a=new Boolean(a);a.ogg=e.canPlayType('video/ogg; codecs="theora"');a.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"');a.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"')}return !!a})();k.audio=(function(){var e=A.createElement("audio"),a=!!e.canPlayType;if(a){a=new Boolean(a);a.ogg=e.canPlayType('audio/ogg; codecs="vorbis"');a.mp3=e.canPlayType("audio/mpeg;");a.wav=e.canPlayType('audio/wav; codecs="1"');a.m4a=e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")}return !!a})();k.canvas=!!A.createElement("canvas").getContext;k.canvasText=!!(k.canvas&&typeof(A.createElement("canvas").getContext("2d").fillText)=="function");k.postMessage=!!window.postMessage;k.localStorage=(function(){try{return("localStorage" in window)&&window.localStorage!==null}catch(a){return false}})();k.sessionStorage=(function(){try{return("sessionStorage" in window)&&window.sessionStorage!==null}catch(a){return false}})();k.WebSocket=("WebSocket" in window);var t=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),z="modernizr",q=A.createElement(z),u=q.style;function j(e,m){for(var a in e){if(u[e[a]]!==undefined&&(!m||m(e[a],q))){return true}}}function c(B,m){var e=B.charAt(0).toUpperCase()+B.substr(1),a=[B,"Webkit"+e,"Moz"+e,"O"+e,"ms"+e,"Khtml"+e];return !!j(a,m)}function o(a){u.cssText=a}function b(e,a){return o(t.join(e+";")+(a||""))}h({cssAnimation:"animationName",cssTransition:"transitionProperty",cssBackgroundSize:"backgroundSize",cssBoxShadow:"boxShadow",cssBorderImage:"borderImage",cssColumnCount:"columnCount",cssBoxReflect:"boxReflect"},function(a,e){k[e]=c(a)});k.cssBorderRadius=c("borderRadius","",function(a){return(""+a).indexOf("orderRadius")>-1});k.cssMultipleBackground=(function(){o("background:url(//:),url(//:),red url(//:)");return new RegExp("(url\\s*\\(.*?){3}").test(u.background)})();k.cssRGBA=(function(){o("background-color:rgba(150,255,150,.5)");return(""+u.backgroundColor).indexOf("rgba")>-1})();k.cssTransform=(function(){return !!j(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])})();k.cssTransform3d=(function(){var e=!!j(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(e){var a=document.createElement("style"),m=A.createElement("div");a.textContent="@media ("+t.join("transform-3d),(")+"modernizr){#modernizr{height:3px}}";A.getElementsByTagName("head")[0].appendChild(a);m.id="modernizr";y.appendChild(m);e=m.offsetHeight===3;a.parentNode.removeChild(a);m.parentNode.removeChild(m)}return e})();u=q=null;i.support=k})(SINA);(function(b){if(!b.DOM){b.DOM={}}function c(g,d,f){d=d||1;var e=0;for(;g;g=g[f]){if(g.nodeType===1&&++e===d){break}}return g}function a(f,e){var d=[];for(;f;f=f.nextSibling){if(f.nodeType===1&&f!==e){d.push(f)}}return d}b.extend(b.DOM,{byId:function(d){return typeof(d)=="string"?document.getElementById(d):d},next:function(d){return b.isElement(d)?c(d,2,"nextSibling"):null},previous:function(d){return b.isElement(d)?c(d,2,"previousSibling"):null},parent:function(d){return b.isElement(d)&&(d=d.parentNode)&&d.nodeType!==11?d:null},children:function(d){return b.isElement(d)?a(d.firstChild):[]},siblings:function(d){return b.isElement(d)?a(d.parentNode.firstChild,d):[]},contains:document.documentElement.contains?function(e,d){return(b.isElement(e)||b.isDocument(e))&&b.isElement(d)&&e!==d&&(e.contains?e.contains(d):true)}:function(e,d){return(b.isElement(e)||b.isDocument(e))&&b.isElement(d)&&!!(e.compareDocumentPosition(d)&16)}})})(SINA);(function(m){var A=/^#([\w\$\-]+)$/,o=/^[\w]+$/,u=/^([\w\$\-\*]*)\.(\w+)$/,K=/^\s*([\w\.\#\:\$\-]+)/,b=/^\[([\w]+)]/,W=/^\[([\w]+)([\~\^\$\*\|\!]?\=)([\'\"]?)(.*?)\3\]/,Q=/\#([\w\$\-]+)/,c=/^(\w+)/,q=/\.([\w\$\-]+)/,j=/\:([\w\$\-]+)/,C=m.support.byClassName,r=Object.prototype.hasOwnProperty,t=Array.prototype.slice,R=Array.prototype.push,a=m.trim,J=function(aa,Z){var X=[],Y=0,S=aa.length;for(;Y<S;Y++){if(Z(aa[Y])){X.push(aa[Y])}}return X},I=m.Array.every,F=m.DOM,O=F.hasClass,T=F.getAttr,s=function(aa,X,Z,S){var Y=0;for(;aa;aa=aa[Z]){if(aa.nodeType===1&&++Y===S){break}}return X(aa)?aa:null},i=m.DOM.next,w=function(ac,X,Y){var ab=ac.childNodes,Z,aa=0,S=w.length;for(;Z<S;Z++){ac=ab[Z];if(ac.nodeType===1&&X(ac)){Y.push(ac)}}return Y},H=F.contains,U=function(S){return S.nodeType==1},f=m.Array.forEach,B=function(X){var Y=[],Z=0,S=X.length;for(;Z<S;Z++){Y[Z]=X[Z]}return Y},L=Array.lastIndexOf||function(Y,X){var S=Y.length-1;for(;S>=0;S--){if(X===Y[S]){return S}}return -1};var M,k,g;M={enabled:function(S){return S.disabled===false&&S.type!=="hidden"},disabled:function(S){return S.disabled===true},checked:function(S){return S.checked===true},selected:function(S){S.parentNode.selectedIndex;return S.selected===true},parent:function(S){return !!S.firstChild},empty:function(S){return !S.firstChild},header:function(S){return(/h\d/i).test(S.nodeName)},text:function(S){return"text"===S.type},radio:function(S){return"radio"===S.type},checkbox:function(S){return"checkbox"===S.type},file:function(S){return"file"===S.type},password:function(S){return"password"===S.type},submit:function(S){return"submit"===S.type},image:function(S){return"image"===S.type},reset:function(S){return"reset"===S.type},button:function(S){return"button"===S.type||S.nodeName.toLowerCase()==="button"},input:function(S){return(/input|select|textarea|button/i).test(S.nodeName)}};function N(X,S){return X[S]}N["class"]=function(S){return S.className};N["for"]=function(S){return S.htmlFor};if(!m.support.hrefNormalized){N.href=function(X,S){return X.getAttribute("href",2)}}function d(Z,Y,aa,S){aa++;if(aa>=S){return Z}var X=Y[aa];return d(X.get(Z,P(X.chkAttr)),Y,aa,S)}function l(S,ac,af){var ad=ac[af],ag=ad.rel,ae=[],ab=0,Y,Z,X,aa;Y=S.length;if(af<1){return S}for(;ab<Y;ab++){Z=af;aa=X=S[ab];while(aa&&Z>0){ad=ac[--Z];if(ad.chkAll){aa=V[ag](aa,ad.chkAll)}ag=ad.rel}if(aa){ae.push(X)}}return ae}var V={};V[" "]=function(Y,S){var X=null,Z=Y;while((Z=Z.parentNode)){if(S(Z)){return Z}}return null};V[">"]=function(X,S){return(X=X.parentNode)&&S(X)?X:null};V["+"]=function(X,S){return(X=s(X,S,"previousSibling",2))?X:null};V["~"]=function(X,S){while((X=X.previousSibling)){if(1===node.nodeType&&S(X)){return X}}return null};var e={};e[">"]=function(Y,X){var aa,S,ab,Z=[];for(aa=0,S=Y.length;aa<S;aa++){ab=Y[aa].firstChild;while(ab){if(1===ab.nodeType&&X(ab)){Z.push(ab)}ab=ab.nextSibling}}return Z};e["+"]=function(Z,X){var ab,S,Y,ac,aa=[];if(!X){for(ab=0,S=Z.length;ab<S;ab++){if((ac=i(Z[ab]))){aa.push(ac)}}}else{for(ab=0,S=Z.length;ab<S;ab++){if((ac=i(Z[ab]))&&X(ac)){aa.push(ac)}}}return aa};e["~"]=function(Y,X){Y=g["~"](Y);var aa,S,ab,Z=[];if(!X){for(aa=0,S=Y.length;aa<S;aa++){ab=Y[aa];while((ab=ab.nextSibling)){if(1===ab.nodeType){Z.push(ab)}}}}else{for(aa=0,S=Y.length;aa<S;aa++){ab=Y[aa];while((ab=ab.nextSibling)){if(1===ab.nodeType&&X(ab)){Z.push(ab)}}}}return Z};e["*"]=function(S,ae){S=g[" "](S);var ac,ab,Z,aa,X,Y,ad=[];aa=S.length;if(aa<1){return ad}if(!ae){for(ac=0;ac<aa;ac++){X=S[ac].getElementsByTagName("*");for(ab=0,Z=X.length;ab<Z;ab++){if(1==X[ab].nodeType){ad.push(X[ab])}}}}else{for(ac=0;ac<aa;ac++){X=S[ac].getElementsByTagName("*");for(ab=0,Z=X.length;ab<Z;ab++){Y=X[ab];if(1==Y.nodeType&&ae(Y)){ad.push(Y)}}}}return ad};e.id=function(S){return function(Y,X){Y=document.getElementById(S);if(X){return Y&&X(Y)?[Y]:[]}return Y?[Y]:[]}};e.tagName=function(S){return function(X,af){X=g[" "](X);var ad,ac,aa,ab=X.length,Y,Z,ae=[];if(ab<1){return ae}if(!af){for(ad=0;ad<ab;ad++){Y=X[ad].getElementsByTagName(S);for(ac=0,aa=Y.length;ac<aa;ac++){ae.push(Y[ac])}}}else{for(ad=0;ad<ab;ad++){Y=X[ad].getElementsByTagName(S);for(ac=0,aa=Y.length;ac<aa;ac++){Z=Y[ac];if(af(Z)){ae.push(Z)}}}}return ae}};if(!!C){e.className=function(S){return function(X,af){X=g[" "](X);var ad,ac,aa,ab=X.length,Y,Z,ae=[];if(ab<1){return ae}if(!af){for(ad=0;ad<ab;ad++){Y=X[ad].getElementsByClassName(S);for(ac=0,aa=Y.length;ac<aa;ac++){ae.push(Y[ac])}}}else{for(ad=0;ad<ab;ad++){Y=X[ad].getElementsByClassName(S);for(ac=0,aa=Y.length;ac<aa;ac++){Z=Y[ac];if(af(Z)){ae.push(Z)}}}}return ae}}}var p=document.documentElement,h;if(p){if(p.hasAttribute){h=function(S){return function(X){return X.hasAttribute(S)}}}else{h=function(S){return function(X){return X.getAttribute(S)!==""}};h["class"]=function(S){return S.getAttribute("className")!==""}}}if(!h){h=function(X,S){return function(Y){return Y.hasOwnProperty(S)}}}function D(S){if(h.hasOwnProperty(S)){return h[S]}else{return h(S)}}function P(){var ab=[],aa=0,X=arguments.length,Y,S,Z;for(;aa<X;aa++){Z=arguments[aa];Y=0;S=Z.length;for(;Y<S;Y++){ab.push(Z[Y])}}X=ab.length;if(X<1){return null}else{if(X==1){return ab[0]}else{return function(ad){var ac=0;for(;ac<X;ac++){if(!ab[ac](ad)){return false}}return true}}}}function n(S,X){return function(Y){return X===Y[S]}}k=function(S,aa,Z){if(arguments.length==1){return D(S)}var Y=N.hasOwnProperty(S)?N[S]:N,X=k[Z](aa);return function(ab){return X(Y(ab,S))}};k.tagName=function(S){return function(X){return S==X.tagName}};k["class"]=k.className=function(S){S=" "+a(S)+" ";return function(X){return(" "+X.className+" ").indexOf(S)>-1}};m.extend(k,{"=":function(S){return function(X){return X==S}},"!=":function(S){return function(X){return X!=S}},"~=":function(S){S=" "+a(S)+" ";return function(X){return(" "+X+" ").indexOf(S)>-1}},"|=":function(X){var Y=X+"-",S=Y.length;return function(Z){return Z==X||Z.slice(0,S)==Y}},"^=":function(S){var X=S.length;return function(Y){return Y.slice(0,X)==S}},"$=":function(S){var X=-S.length;return function(Y){return Y.slice(X)==S}},"*=":function(S){return function(X){return X.indexOf(S)>-1}}});var G={"=":1,"!=":1,"~=":4,"|=":2,"^=":2,"$=":2,"*=":2};g={};g[" "]=function(X){var Z,S=X.length,aa,Y;if(S<2){return X}Z=1;aa=X[0];Y=[aa];for(;Z<S;Z++){if(!H(aa,X[Z])){aa=X[Z];Y.push(aa)}}return Y};g[">"]=function(S){return S};g["+"]=function(S){return S};g["~"]=function(Z){var S=-1,ab=0,X=Z.length,ac,Y=[],aa=[];for(;ab<X;ab++){if((ac=Z[ab].parentNode)&&L(Y,ac)<0){Y.push(ac);aa.push(Z[ab])}}return aa};function y(ac,ab,aa){var ag=ac.rel,S=ac.id,Y=ac.tagName=="*"?"":ac.tagName,ae=ac.className,ah=ac.chkLeft,Z=ac.chkAttr,ad=ac.getBy,X,af;if(ag==" "||(ac.isStartLevel&&ab==aa)){ac.get=ad=="*"?e[ad]:e[ad](ac[ad]);switch(ad){case"id":if(ab<aa){ah.push(n("id",S))}if(Y){Z.push(n("tagName",Y))}if(ae){Z.push(k("class",ae,"~="))}break;case"tagName":if(ab<aa){ah.push(n("tagName",Y))}if(ae){Z.push(k("class",ae,"~="))}break;case"className":if(ab<aa){ah.push(k("class",ae,"~="))}break;default:Z.unshift(n("nodeType",1));if(ae){Z.push(k("class",ae,"~="))}break}}else{ac.get=e[ag];if(S){Z.unshift(n("id",S))}if(Y){Z.push(n("tagName",Y))}if(ae){Z.push(k("class",ae,"~="))}}ac.chkAll=P(ah,Z);return ac}function x(Z){var ah=[],ac="",ab="",ad="",ae=0,X=Z.length,S=0,aa=0,ag=0,ai=" ",Y=null,af=null;while(ae<X){ac=Z.charAt(ae);if(ac=="["){ad=Z.slice(ae);aa=E(ad,af);if(!aa){return[]}ae+=aa}else{if(!/\s/.test(ac)){if("+>~".indexOf(ac)>-1){ae++}else{ac=" "}af={isStartLevel:false,rel:ac,id:"",tagName:"*",className:"",chkLeft:[],chkAttr:[]};aa=v(Z.slice(ae),af);if(!aa){return[]}if(af.id){ah=[af]}else{ah.push(af)}Y=af;ae+=aa}else{ae++}}}return ah}function v(Y,Z){var ac,aa=0,X="",ab,S;ac=Y.match(K);if(ac){aa=ac[0].length;ac=ac[1];if(j.test(ac)){if(!M.hasOwnProperty(RegExp.$1)){return 0}Z.chkAttr.push(M[RegExp.$1])}S=Z.rel;if(Q.test(ac)){Z.id=RegExp.$1}if(c.test(ac)){Z.tagName=RegExp.$1.toUpperCase()}if(q.test(ac)){Z.className=RegExp.$1}}return aa}function E(S,X){var Y;if((Y=S.match(W))){X.chkAttr.push(k(Y[1],Y[4],Y[2]));return Y[0].length}else{if((Y=S.match(b))){X.chkAttr.push(k(Y[1]));return Y[0].length}}return 0}function z(Z,ai){var aj,ad,ak=0,af,aa,ac=0,S=0,ae=0,Y,af,ag,ab,X;var ah=aa=ai.getElementsByTagName("*").length;ad=x(Z);ak=ad.length;if(ak<1){return[]}Y=ak-1;for(ac=ak-1;ac>=0;ac--){af=ad[ac];if(af.id){ae=document.getElementById(af.id)?1:0;af.getBy="id"}else{if(af.tagName!="*"){ae=ai.getElementsByTagName(af.tagName).length;af.getBy="tagName";if(af.className&&C){ab=ai.getElementsByClassName(af.className).length;if(ab<ae){ae=ab;af.getBy="className"}}}else{if(af.className&&C){ae=ai.getElementsByClassName(af.className).length;af.getBy="className"}else{ae=ah;af.getBy="*"}}}if(ae<1){return[]}ae=ae*(af.chkAttr.length+1);if(aa>ae*1.5){aa=ae;Y=ac}}X=ad[Y];X.isStartLevel=true;for(ac=0;ac<ak;ac++){y(ad[ac],ac,Y)}ag=X.get([ai],P(X.chkAttr));ag=l(ag,ad,Y);ag=d(ag,ad,Y,ad.length);return ag}m.extend(m,{query:function(S,X){if(arguments.length<1){return[document]}X=X||document.body;return z(S,X)}})})(SINA);(function(h){var g=h.DOM,e=/[\n\t]/g,i=/\s+/,n=/\r/g,d=/^(?:href|src|style)$/,p=/^(?:button|input)$/i,o=/^(?:button|input|object|select|textarea)$/i,f=/^a(?:rea)?$/i,b=/^(?:radio|checkbox)$/i,j=!!h.UA.ie?"innerText":"textContent",c={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder",innerText:j,textContent:j},m={};var l,a,k;if(!h.support.style){m.style={get:function(q){return q.style.cssText},set:function(q,r){q.style.cssText=""+r}}}m[j]={get:function(q){return q[j]},set:function(q,r){q[j]=""+r}};m.className={get:function(q){return q.className},set:function(q,r){q.className=""+r}};m.innerHTML={get:function(q){return q.innerHTML},set:function(q,r){g.html(q,r)}};l=function(t,s){s=c[s]||s;var q=m[s],r;if(q&&("get" in q)){return q.get(t)}if(!t.attributes[s]&&(t.hasAttribute&&!t.hasAttribute(s))){return undefined}if(!h.support.hrefNormalized&&d.test(s)){return t.getAttribute(s,2)}else{if(t.getAttributeNode(s)){return t.getAttributeNode(s).nodeValue}else{return t.getAttribute(s)}}};a=function(s,r,t){r=c[r]||r;var q=m[r];if(q&&("set" in q)){q.set(s,t);return}if((r in s||s[r]!==undefined)&&!d.test(r)){if(r==="type"&&p.test(s.nodeName)&&s.parentNode){return}if(t===null){if(s.nodeType===1){s.removeAttribute(r)}}else{if(s.getAttributeNode(r)){s.getAttributeNode(r).nodeValue=t}else{s[r]=t}}}else{s.setAttribute(r,""+t)}};k=function(s,q,t){if(!s||s.nodeType===3||s.nodeType===8){return undefined}var u=h.isPlainObject(q)?2:(t!==undefined?1:0),r;if(!u){return l(s,q)}else{if(u==1){a(s,q,t)}else{for(r in q){a(s,r,q[r])}}}};h.extend(h.DOM,{attr:k,removeAttr:function(r,q){h.DOM.attr(r,q,null)},getAttr:l,setAttr:a})})(SINA);(function(i){var e=i.each,m=i.DOM.contains,t=i.camelCase,r=function(A,z,B){var x={};for(var y in z){x[y]=A.style[y];A.style[y]=z[y]}B.call(A);for(y in z){A.style[y]=x[y]}};var j=/alpha\([^)]*\)/i,b=/opacity=([^)]*)/,n=/-([a-z])/ig,u=/([A-Z])/g,d=/^-?\d+(?:px)?$/i,k=/^-?\d/,a={"float":!i.support.cssFloat?"cssFloat":"styleFloat"},w={},l={position:"absolute",visibility:"hidden",display:"block"},q=["Left","Right"],s=["Top","Bottom"],c={zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true};var g,h,f,p,v;if(!i.support.opacity){w.opacity={get:function(y,x){return b.test((x&&y.currentStyle?y.currentStyle.filter:y.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":x?"1":""},set:function(A,B){var z=A.style;z.zoom=1;var x=isNaN(B)?"":"alpha(opacity="+B*100+")",y=z.filter||"";z.filter=j.test(y)?y.replace(j,x):z.filter+" "+x}}}e(["height","width"],function(x){w[x]={get:function(A,z,y){var B;if(z){if(A.offsetWidth!==0){B=v(A,x,y)}else{r(A,l,function(){B=v(A,x,y)})}return B+"px"}},set:function(y,z){if(d.test(z)){z=parseFloat(z);if(z>=0){return z+"px"}}else{return z}}}});g=function(D,B,y){var A,z=t(B),C=D.style,x=w[z];B=a[z]||z;if(x&&("get" in x)&&(A=x.get(D,false,y))!==undefined){return A}return C[B]};v=function(z,y,x){var B=y==="width"?q:s,A=y==="width"?z.offsetWidth:z.offsetHeight;if(x==="border"){return A}e(B,function(C){if(!x){A-=parseFloat(h(z,"padding"+C))||0}if(x==="margin"){A+=parseFloat(h(z,"margin"+C))||0}else{A-=parseFloat(h(z,"border"+C+"Width"))||0}});return A};if(document.defaultView&&document.defaultView.getComputedStyle){p=function(B,z){var y,A,x;z=z.replace(u,"-$1").toLowerCase();if(!(A=B.ownerDocument.defaultView)){return undefined}if((x=A.getComputedStyle(B,null))){y=x.getPropertyValue(z);if(y===""&&!m(B.ownerDocument.documentElement,B)){y=g(B,z)}}return y}}else{if(document.documentElement.currentStyle){p=function(B,z){var C,x,y=B.currentStyle&&B.currentStyle[z],A=B.style;if(!d.test(y)&&k.test(y)){C=A.left;x=B.runtimeStyle.left;B.runtimeStyle.left=B.currentStyle.left;A.left=z==="fontSize"?"1em":(y||0);y=A.pixelLeft+"px";A.left=C;B.runtimeStyle.left=x}return y}}}h=function(C,B,y){var A,z=t(B),x=w[z];B=a[z]||z;if(x&&("get" in x)&&(A=x.get(C,true,y))!==undefined){return A}else{if(p){return p(C,B,z)}}return C.style[B]};f=function(z,y,A){if(typeof A==="number"&&isNaN(A)||A==null){return}y=t(y);if(typeof(A)==="number"&&!c[y]){A+="px"}var x=w[y];if(!x||!("set" in x)||(A=x.set(z,A))!==undefined){try{z.style[y]=A}catch(B){}}};function o(z,x,A){if(!z||z.nodeType===3||z.nodeType===8||!z.style){return}if(typeof(x)=="string"){if(arguments.length>2){f(z,x,A)}else{return h(z,x)}}else{if(i.isPlainObject(x)){for(var y in x){f(z,y,x[y])}}}}i.extend(i.DOM,{style:o,getStyle:h,setStyle:f,width:function(x,y){if(arguments.length<2){return v(x,"width")}f(x,"width",y)},height:function(x,y){if(arguments.length<2){return v(x,"height")}f(x,"height",y)},size:function(x,y){if(arguments.length<2){return{width:v(x,"width"),height:v(x,"height")}}else{if(i.isObject(y)){if(y.hasOwnProperty("width")){f(x,"width",y.width)}if(y.hasOwnProperty("height")){f(x,"height",y.width)}}}}})})(SINA);(function(a){function b(c){return c&&typeof(c)=="string"&&/^[a-zA-Z\$][\w\d\-\$]*$/.test(c)}a.extend(a.DOM,{hasClass:function(d,c){return !!d.className&&b(c)&&(" "+d.className+" ").indexOf(" "+c+" ")>-1},addClass:function(d,c){if(!a.isElement(d)||!b(c)){return}if(!d.className){d.className=c}else{if(!a.DOM.hasClass(d,c)){d.className+=" "+c}}},removeClass:function(d,c){if(a.isElement(d)&&b(c)&&a.DOM.hasClass(d,c)){d.className=a.Array.remove(d.className.split(/\s+/),function(e){return e==c}).join(" ")}}})})(SINA);(function(a){var d=!!a.UA.ie?"innerText":"textContent",b=a.UA;function e(k,m,j){var g=k.childNodes,n=document.createElement("div"),h,f;for(h=g.length-1;h>=0;h--){g[h].parentNode.removeChild(g[h])}n.innerHTML="<table><"+j+">"+m+"</"+j+"></table>";g=a.arrayify(n.getElementsByTagName(j)[0].childNodes);for(h=0,f=g.length;h<f;h++){k.appendChild(g[h])}g=n=null}function c(k,m){var j,g,h,f;j=k.nodeName;if(c.hasOwnProperty(j)){c[j](k,m)}else{j=document.createElement("div");j.innerHTML=m;g=j.childNodes;k.innerHTML="";for(h=0,f=g.length;h<f;h++){k.appendChild(g[h])}j=null}}c.TABLE=function(h,j){var k=document.createElement("div"),g,f=h.getElementsByTagName("tbody");if(f.length>0){f=f[0]}else{f=h.appendChild(document.createElement("tbody"))}j=j.replace(/^\s*<tbody[^>]*>((?:.|\n)*?)<\/tbody>\s*$/ig,"$1");e(f,j,"TBODY");return};c.THEAD=function(f,g){e(f,g,"THEAD")};c.TFOOT=function(f,g){e(f,g,"TFOOT")};c.TR=function(f,g){e(f,g,"TR")};c.STYLE=function(f,g){return};c.SCRIPT=function(f,g){f.text=g};a.extend(a.DOM,{text:function(g,h){var i="SCRIPT"==g.nodeName,f=i&&b.ie?"text":d;if(arguments.length>1){if(typeof(h)!="string"||!a.isElement(g)){return}g[f]=h}else{return a.isElement(g)&&g[f]?g[f]:""}},html:function(j,k){if(arguments.length>1){if(typeof(k)!="string"||!a.isElement(j)){return}var g,h,f=a.DOM.remove;g=j.getElementsByTagName("*");for(h=g.length-1;h>=0;h--){try{f(g[h])}catch(l){}}g=null;try{j.innerHTML=k}catch(l){c(j,k)}}else{return a.isElement(j)&&j.innerHTML?j.innerHTML:""}},value:function(f,g){if(arguments.length>1){if(typeof(g)!="string"||!a.isElement(f)){return}f.value=g}else{return a.isElement(f)&&f.value?f.value:""}}})})(SINA);(function(a){a.extend(a.DOM,{create:function(b,c){if((c&&!a.isElement(c))||typeof(b)!="string"){return}if(!c){c=document.body}var d=document.createElement(b);c.appendChild(d);try{return d}finally{d=null}},remove:function(b){if(!a.isElement(b)||!a.isElement(b.parentNode)){return}try{a.Event.removeListener(b);a.DOM.removeCache(b)}catch(c){}b.parentNode.removeChild(b)},insertBefore:function(c,b){if(a.isElement(c)&&a.isElement(b)){b.parentNode.insertBefore(c,b)}},insertAfter:function(c,b){if(a.isElement(c)&&a.isElement(b)){if(b.nextSibling){b.parentNode.insertBefore(c,b.nextSibling)}else{b.parentNode.appendChild(c)}}}})})(SINA);(function(d){var f=d.DOM,e="__Sina"+d.now(),c=1,b={},a={embed:1,object:1,applet:1};d.extend(f,{_guid:function(g){var h=c.toString();c++;return g?g+h:h},_expando:e,_noData:a,_cache:{},cache:function(i,o,l){if(!i||(i.nodeName&&a[i.nodeName.toLowerCase()])){return}if(i==window){i=b}var m=!!(i.nodeType),g=m?i[e]:null,h=m?f._cache:i,j,n=(typeof o==="string"),k=(typeof o==="object");if(m){if(!g){i[e]=g=f._guid()}if(!h[g]){h[g]={}}j=h[g];if(k){d.extend(j,o,true);return}}else{if(!h){h={}}j=h;if(k){d.extend(j,o,true)}}if(n&&l!==undefined){j[o]=l}else{return n?j[o]:j}},removeCache:function(j,h){if(!j||(j.nodeName&&a[j.nodeName.toLowerCase()])){return}if(j==window){j=b}var l=!!(j.nodeType),n=l?j[e]:null,m=l?f._cache:j,k,g;if(l&&!n){return}k=l?m[n]:m;if(h){if(k){delete k[h]}}else{if(k){for(g in k){delete k[g]}}}}})})(SINA);(function(d){var c=d.DOM,l=d.isElement,a=d.isPlainObject,e=d.isNumber,j=d.isWindow,k=d.DOM.style,b=(d.UA.ie)?true:false,i=function(m){return parseInt(k(m,"left"))||0},h=function(m){return parseInt(k(m,"top"))||0},g=function(m){var n=0;while(m){n+=m.offsetTop;m=m.offsetParent}return n},f=function(m){var n=0;while(m){n+=m.offsetLeft;m=m.offsetParent}return n};d.extend(c,{offset:function(p,s){if(p&&l(p)){if(s&&e(s.left)&&e(s.top)){var o=f(p),m=g(p),t=s.left-o,r=s.top-m,n=i(p),q=h(p);if(k(p,"position")==="static"){k(p,"position","relative")}k(p,"top",(q+r)+"px");k(p,"left",(n+t)+"px")}else{return{top:f(p),left:g(p)}}}},position:function(m,n){if(m&&l(m)){if(n&&e(n.left)&&e(n.top)){if(k(m,"position")==="static"){k(m,"position","relative")}k(m,"top",n.top+"px");k(m,"left",n.left+"px")}else{return{left:i(m),top:h(m)}}}},scrollLeft:function(m,n){if(m){if(l(m)){if(n&&e(n)){m.scrollLeft=n}else{return m.scrollLeft}}else{if(j(m)){if(n&&e(n)){window.scrollTo(n,c.scrollTop(m))}else{return window.pageXOffset||((b)?document.documentElement.scrollLeft:document.body.scrollLeft)}}}}},scrollTop:function(m,n){if(m){if(l(m)){if(n&&e(n)){m.scrollTop=n}else{return m.scrollTop}}else{if(j(m)){if(n&&e){window.scrollTo(c.scrollLeft(m),n)}else{return window.pageYOffset||((b)?document.documentElement.scrollTop:document.body.scrollTop)}}}}},offsetParent:function(m){if(m&&l(m)){return m.offsetParent||document.body}return null}})})(window.SINA);(function(b){var g=b.DOM,a=b.isElement,f=b.isBoolean,d=b.isNumber,c=g.style,e=(b.UA.ie)?true:false;b.extend(g,{width:function(h,i){if(h&&a(h)){if(i&&d(i)){c(h,"width",i+"px");return}else{return parseInt(h,"width")||0}}return null},height:function(h,i){if(h&&a(h)){if(i&&d(i)){c(h,"height",i+"px");return}else{return parseInt(c(h,"height"))||0}}return null},size:function(l,k){if(k){g.width(l,k.width);g.height(l,k.height)}else{var i=g.width(l),j=g.height(l);return(d(i)&&d(j))?{width:i,height:j}:null}},innerWidth:function(h){if(h&&a(h)){return(g.width(h)||0)+(parseInt(c(h,"paddingLeft"))||0)+(parseInt(c(h,"paddingRight"))||0)}return null},innerHeight:function(h){if(h&&a(h)){return(g.height(h)||0)+(parseInt(c(h,"paddingTop"))||0)+(parseInt(c(h,"paddingBottom"))||0)}return null},innerSize:function(k){var i=g.innerWidth(k),j=g.innerHeight(k);return(d(i)&&d(j))?{width:i,height:j}:null},outerWidth:function(i,h){if(i&&a(i)){return g.innerWidth(i)+(parseInt(c(i,"borderLeftWidth"))||0)+(parseInt(c(i,"borderRightWidth"))||0)+(h===true)?((parseInt(c(i,"marginLeft"))||0)+(parseInt(c(i,"marginRight"))||0)):0}return null},outerHeight:function(i,h){if(i&&a(i)){return g.innerHeight(i)+(parseInt(c(i,"borderTopWidth"))||0)+(parseInt(c(i,"borderBottomWidth"))||0)+(h===true)?((parseInt(c(i,"marginTop"))||0)+(parseInt(c(i,"marginBottom")))):0}return null},outerSize:function(l,k){var i=g.outerWidth(l,k),j=g.outerHeight(l,k);return(d(i)&&d(j))?{width:i,height:j}:null},documentWidth:function(){return(e)?document.documentElement.scrolllWidth:document.body.scrollWidth},documentHeight:function(){return(e)?document.documentElement.scrollHeight:document.body.scrollHeight},viewportWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},viewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}})})(window.SINA);(function(b){var g=b.DOM,f=document.addEventListener?function(k,j,i,h){if(k&&k.addEventListener){k.addEventListener(j,i,!!h)}}:function(j,i,h){if(j&&j.attachEvent){j.attachEvent("on"+i,h)}},a=document.removeEventListener?function(k,j,i,h){if(k&&k.removeEventListener){k.removeEventListener(j,i,!!h)}}:function(j,i,h){if(j&&j.detachEvent){j.detachEvent("on"+i,h)}},d=1,c=function(h){var j=document.createElement("div"),i;h="on"+h;i=(h in j);if(!i){j.setAttribute(h,"return;");i=typeof j[h]==="function"}j=null;return i},e={special:{},addListener:function(i,n,p){if(!i||i.nodeType===3||i.nodeType===8){return}if(b.isWindow(i)&&(i!==window&&!i.frameElement)){i=window}if(!b.isFunction(p)){return}var h,k,j,l=false,m,o,q;h=g.cache(i);if(!h){return}if(!h.__events){h.__events={}}k=h.__events;l=!i._customEventTarget;if(l&&!h.__target){h.__target=i}if(!k[n]){m=l&&e.special[n]||{};j=function(s,r){if(!s||!s.fixed){s=new b.EventObject(i,s,n)}if(b.isObject(r)){b.extend(s,r)}if(m.setup){m.setup(s)}return(m.handle||e._handle)(i,s,k[n].listeners)};k[n]={handle:j,listeners:[]};o=m.fix||n;q=m.capture;if(l){f(i,o,j,q)}}k[n].listeners.push(p)},removeListener:function(m,s,u){if(!m||m.nodeType===3||m.nodeType===8){return}var k,o,h,t,l,q=false,n,j,p,r;k=g.cache(m);if(!k){return}o=k.__events;if(!o){return}h=o[s];if(h){t=h.listeners;j=t.length;if(b.isFunction(u)&&j){l=[];p=0;for(n=0;n<j;n++){if(u!==t[n]){l[p++]=t[n]}}h.listeners=l;j=l.length}if(u===undefined||j===0){q=!m._customEventTarget;r=q&&e.special[s]||{};if(q){a(m,r.fix||s,h.handle)}h=null;delete o[s]}}if(s===undefined||b.isEmptyObject(o)){for(s in o){e.remove(m,s)}o=null;if("__target" in k){k.__target=null}delete k.__events}},_handle:function(n,m,l){var j,k,h,o;l=l.slice(0);for(k=0,h=l.length;k<h;++k){o=l[k];j=o.call(n,m);if(j===false){m.preventDefault();m.stopPropagation()}}return j},support:c};b.Event=e;b.addListener=e.addListener;b.removeListener=e.removeListener;if(window.attachEvent&&!window.addEventListener){e.addListener(window,"unload",function(){var j,h=g._cache;for(j in h){if(h[j]["__target"]){try{e.removeListener(h[j]["__target"])}catch(i){}}}})}})(SINA);(function(a){var d=a.DOM,b="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),c=function(g,f,e){var h=this;h.currentTarget=g;h.originalEvent=f||{};if(f){h.type=f.type;h._fix()}else{h.type=e;h.target=g}h.currentTarget=g;h.fixed=true};a.extend(c.prototype,{_fix:function(){var m=this,e=m.originalEvent,f=b.length,k,h=m.currentTarget,g=(h.nodeType===9)?h:(h.ownerDocument||document);while(f){k=b[--f];m[k]=e[k]}if(!m.target){m.target=m.srcElement||document}if(m.target.nodeType===3){m.target=m.target.parentNode}if(!m.relatedTarget&&m.fromElement){m.relatedTarget=(m.fromElement===m.target)?m.toElement:m.fromElement}if(m.pageX===undefined&&m.clientX!==undefined){var j=g.documentElement,i=g.body;m.pageX=m.clientX+(j&&j.scrollLeft||i&&i.scrollLeft||0)-(j&&j.clientLeft||i&&i.clientLeft||0);m.pageY=m.clientY+(j&&j.scrollTop||i&&i.scrollTop||0)-(j&&j.clientTop||i&&i.clientTop||0)}if(m.which===undefined){m.which=(m.charCode!==undefined)?m.charCode:m.keyCode}if(m.metaKey===undefined){m.metaKey=m.ctrlKey}if(!m.which&&m.button!==undefined){m.which=(m.button&1?1:(m.button&2?3:(m.button&4?2:0)))}},preventDefault:function(){var f=this.originalEvent;if(f.preventDefault){f.preventDefault()}else{f.returnValue=false}this.isDefaultPrevented=true},stopPropagation:function(){var f=this.originalEvent;if(f.stopPropagation){f.stopPropagation()}else{f.cancelBubble=true}this.isPropagationStopped=true},fixed:false,isDefaultPrevented:false,isPropagationStopped:false});a.EventObject=c})(SINA);(function(c){var e=document,a=c.Event,b=a.special,d=a.support,f=function(j,i,h){var g=i.relatedTarget;try{while(g&&g!==j){g=g.parentNode}if(g!==j){a._handle(j,i,h)}}catch(k){}};if(e.addEventListener){b.mouseenter={fix:"mouseover",setup:function(g){g.type="mouseenter"},handle:f};b.mouseleave={fix:"mouseout",setup:function(g){g.type="mouseleave"},handle:f};b.focusin={fix:"focus",capture:true,setup:function(g){g.type="focusin"}};b.focusout={fix:"blur",capture:true,setup:function(g){g.type="focusout"}}}})(SINA);(function(a){var c=a.Event,f=a.DOM,d=a.isFunction,e=a.extend,b=function(g){};e(b.prototype,{_customEventTarget:true,trigger:function(j,k){var h,i,g,l;h=f.cache(this);if(!h){return this}i=h.__events;if(!i){return this}g=i[j];if(!g){return this}l=g.handle;if(d(l)){l(null,k)}return this},addListener:function(h,g){c.addListener(this,h,g);return this},removeListener:function(h,g){c.removeListener(this,h,g);return this}});a.EventTarget=b;a.makeTarget=function(h,g){e(h.prototype,b.prototype,true)}})(SINA);(function(b){var a=b.Event,d=b.DOM,e=b.extend,c=function(i,g,k,j){if(!i||i.nodeType===3||i.nodeType===8){return}if(k===false||k===true){j=k;k=null}var f,l,h,m,q=g.type||g,s,o,t,p,u;if(!j){g=new b.EventObject(i,null,q)}f=d.cache(i);if(f){l=f.__events;h=l&&l[q];m=h&&h.handle;if(b.isFunction(m)){m(g,k)}}g.currentTarget=i;try{if(f){if(i["on"+q]&&i["on"+q].apply(i,k)===false){g.preventDefault()}}}catch(r){}s=i.parentNode||i.ownerDocument;if(!g.isPropagationStopped&&s){c(s,g,k,true)}else{if(!g.isDefaultPrevented){o=g.target;t=o.nodeName.toLowerCase()==="a"&&q==="click";p=a.special[q]||{};if((!p._default||p._default.call(i,g)===false)&&!t&&d.cache(o)){try{if(o[q]){u=o["on"+q];if(u){o["on"+q]=null}o[q]()}}catch(n){}if(u){o["on"+q]=u}}}}};e(a,{trigger:c});b.trigger=c})(SINA);(function(d){var j=d.Event,k=d.DOM,f=d.extend,a=d.isString,b=d.isFunction,h=d.isEmptyObject,c=d.isWindow,g=d.query,i={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"},e=function(q,m,o){if(q===o){return false}var l=g(m,o),p=l.length,n;for(n=0;n<p;n++){if(q===l[n]){return true}}return false};f(j,{delegate:function(o,r,p,s){if(!o||o.nodeType===3||o.nodeType===8){return}if(!a(p)||!a(r)||!b(s)){return}if(c(o)){o=document}var n,t,l,q,u,m;n=k.cache(o);if(!n){return}t=n.__delegate;if(!t){t=n.__delegate={}}if(!t[r]){u=function(A){var B=A.target,x=t[r].delegates,v=false,w,z,y,C;while(B!==o&&!v){for(y in x){if(e(B,y,o)){C=x[y];z=C.length;for(w=0;w<z;w++){if(C[w].call(B,A)===false){A.preventDefault();A.stopPropagation();v=true}else{if(A.isPropagationStopped){v=true}}}}}if(v){break}B=B.parentNode}};t[r]={handle:u,delegates:{}};j.addListener(o,i[r]||r,u)}l=t[r];q=l.delegates[p];if(!q){q=l.delegates[p]=[]}q.push(s)},detach:function(p,v,q,w){if(!p||p.nodeType===3||p.nodeType===8){return}if(c(p)){p=document}var o,x,l,t,s,r,m,n,u,y;o=k.cache(p);if(!o){return}x=o.__delegate;if(!x){return}l=x[v];if(l){t=l.delegates;s=t[q];if(s){m=s.length;if(m&&b(w)){n=[];u=0;for(r=0;r<m;r++){y=s[r];if(w!==y){n[u++]=y}}t[q]=n;m=n.length}if(w===undefined||m===0){s=null;delete t[q]}}if(q===undefined||h(t)){j.removeListener(p,i[v]||v,l.handle);t=null;l=null;delete x[v]}}if(v===undefined||h(x)){for(v in x){j.removeListener(p,i[v]||v,x[v].handle);delete x[v]}x=null;delete o.__delegate}}});j.undelegate=j.detach})(SINA);(function(f){var d=f.DOM,e=f.query,j=f.Array.forEach,c=f.Array.indexOf,b=f.Array.every,i=f.Array.some,l=Array.prototype,h=l.push,g=l.slice,a=function(n){var m=n.nodeType;return !!((m&&(m===1||m===9))||(n.document&&n.setInterval))},k=function(m){if(!(this instanceof k)){return new k(m)}var n,p,o;if(typeof m==="string"){this._selector=m;h.apply(this,e(m))}else{if(m&&a(m)){this[0]=m;this.length=1}else{if(m instanceof k){h.apply(this,m.toDOMNodes())}else{if(m&&(p=m.length)){for(n=0;n<p;n++){o=m[n];if(o&&a(o)){h.call(this,o)}}}}}}};f.extend(k.prototype,{length:0,item:function(m){return new k(this[m])},toDOMNodes:function(){return g.call(this,0)},each:function(n,m){j(this,n,m)},find:function(m){var o=[],p=0,s=this.length,r,u,t,n;for(;p<s;p++){r=this[p];if(r==window){r=document}u=e(m,r);t=u.length;for(n=0;n<t;n++){if(c(o,u[n])===-1){o.push(u[n])}}}return new k(o)},_selector:""});f.find=function(m,n){return new k(e(m,n))};f.NodeList=k})(SINA);(function(f){var c=f.DOM,e=f.Event,n=f.NodeList,l=f.Array.forEach,b=f.Array.indexOf,a=f.Array.every,k=f.Array.some,m=Array.prototype,i=m.push,h=m.slice,g=1,j=2,d=3;n.$importMethod=function(r,o,q){if(typeof o==="string"&&o){var p=r[o];if(p&&typeof p==="function"){q=q||0;switch(q){case 1:n.prototype[o]=function(){var v=h.call(arguments,0),w=0,y=this.length,s,z,u,x,t=[];v.unshift(null);for(;w<y;w++){v[0]=this[w];s=p.apply(window,v);if(s){if(f.isArray(s)){for(u=0,z=s.length;u<z;u++){x=s[u];if(b(t,x)===-1){t.push(x)}}}else{if(b(t,s)===-1){t.push(s)}}}}return new n(t)};break;case 2:n.prototype[o]=function(){var s=h.call(arguments,0),v=(arguments.length===2||typeof arguments[0]==="object"),t=0,u=this.length;s.unshift(null);if(v){for(;t<u;t++){s[0]=this[t];p.apply(window,s)}}else{if(u){s[0]=this[0];return p.apply(window,s)}}};break;case 3:n.prototype[o]=function(){var s=h.call(arguments,0),v=(arguments.length===1),t=0,u=this.length;s.unshift(null);if(v){for(;t<u;t++){s[0]=this[t];p.apply(window,s)}}else{if(u){s[0]=this[0];return p.apply(window,s)}}};break;default:n.prototype[o]=function(){var t=h.call(arguments,0),u=0,v=this.length,s;t.unshift(null);for(;u<v;u++){node=this[u];t[0]=this[u];s=p.apply(window,t);if(s===true){return true}}if(s===false){return false}}}}}else{if(f.isArray(o)){l(o,function(s){n.$importMethod(r,s,q)})}}};n.$importMethod(c,["next","previous","parent","children","siblings"],g);n.$importMethod(c,["attr","style","cache"],j);n.$importMethod(c,["html","text","value"],d);n.$importMethod(c,["hasClass","addClass","removeClass","removeAttr","removeCache"]);n.$importMethod(e,["addListener","removeListener","trigger","delegate","detach","undelegate"])})(SINA);(function(g){var h=g.DOM,q=g.UA,n=g.NodeList,C=g.query,d=g.trim,m=g.arrayify,v=g.Array.forEach,i=Array.prototype.slice,p=q.ie,E=q.gecko,A=/<(\w+)/i,c=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,l=/<script([^>]*)>([\s\S]*?)<\/script>/ig,s=/\ssrc=(['"])(.*?)\1/i,r=/\scharset=(['"])(.*?)\1/i,D=1,b=2,k=3,z=4,f=function(G){var F=G&&G.nodeType;return !!(F&&(F===1||F===3))},u=function(G){var F=G.cloneNode(true);if(q.ie<8){F.innerHTML=G.innerHTML}return F},t=function(K,J,F){J=(J instanceof n)?J:new n(J);var I=null,G=0,H=J.length,L;if(!H){return}I=x(K);switch(F){case D:for(;G<H-1;G++){if(L=J[G]){if(L.firstChild){L.insertBefore(u(I),L.firstChild)}else{L.appendChild(u(I))}}}if(L=J[G]){if(L.firstChild){L.insertBefore(I,L.firstChild)}else{L.appendChild(I)}}break;case b:for(;G<H-1;G++){if(L=J[G]){L.appendChild(u(I))}}if(L=J[G]){L.appendChild(I)}break;case k:for(;G<H-1;G++){if((L=J[G])&&L.parentNode){L.parentNode.insertBefore(u(I),L)}}if((L=J[G])&&L.parentNode){L.parentNode.insertBefore(I,L)}break;case z:for(;G<H-1;G++){if((L=J[G])&&L.parentNode){if(L.nextSibling){L.parentNode.insertBefore(u(I),L.nextSibling)}else{L.parentNode.appendChild(u(I))}}}if((L=J[G])&&L.parentNode){if(L.nextSibling){L.parentNode.insertBefore(I,L.nextSibling)}else{L.parentNode.appendChild(I)}}break;default:break}},x=function(G){var F=null;if(f(G)){F=G}else{if(typeof G==="string"){F=y(G)}else{if(G&&G.length){F=w(G)}}}return F},w=function(F,I){if(F&&F.length){var J=null,G=0,H=F.length;I=I||F[0].ownerDocument;J=I.createDocumentFragment();if(F.item){F=m(F)}for(G=0,len=F.length;G<len;G++){J.appendChild(F[G])}return J}return null},y=function(K,J){if(typeof K==="string"&&(K=d(K))){var H=null,G,F,L,I=B;J=J||document;G=c.exec(K);if(G&&G[1]){H=J.createElement(G[1])}else{G=A.exec(K);if(G&&G[1]){F=G[1].toLowerCase();if(e[F]&&g.isFunction(e[F])){I=e[F]}}L=I(K,J).childNodes;if(L.length===1){H=L[0].parentNode.removeChild(L[0])}else{H=w(L,J)}}return H}return null},B=function(G,F){var H=F.createElement("div");H.innerHTML=G;return H},e={};if(E||p){var o="<table>",j="</table>",a=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/;g.extend(e,{td:function(G,F){return y("<tr>"+G+"</tr>",F)},tr:function(G,F){return y("<tbody>"+G+"</tbody>",F)},tbody:function(G,F){return y("<table>"+G+"</table>",F)},option:function(G,F){return y("<select>"+G+"</select>",F)},col:function(G,F){return y("<colgroup>"+G+"</colgroup>",F)},legend:function(G,F){return y("<fieldset>"+G+"</fieldset>",F)}});if(p){e.script=function(G,F){var H=F.createElement("div");H.innerHTML="-"+G;H.removeChild(H.firstChild);return H};if(p<8){e.tbody=function(H,G){var I=y(o+H+j,G),F=I.children.tags("tbody")[0];if(I.children.length>1&&F&&!a.test(H)){tbody.parentNode.removeChild(F)}return I}}}g.extend(e,{th:e.td,thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody,optgroup:e.option})}g.extend(n.prototype,{append:function(F){t(F,this,b)},appendTo:function(F){t(this,F,b)},addBefore:function(F){t(this,F,k)},addAfter:function(F){t(this,F,z)},remove:function(F){v(this.find(F),function(G){if(g.isElement(G)&&G.parentNode){G.parentNode.removeChild(G)}})}})})(SINA);(function(j,Q){var r=j.isFunction,M=j.isObject,x=j.isArray,o=Object.prototype.toString,V=Q.JSON,G=(o.call(V)==="[object JSON]"&&V),n=!!G,P=n,H="undefined",t="object",D="null",T="string",E="number",y="boolean",p="date",J={"undefined":H,string:T,"[object String]":T,number:E,"[object Number]":E,"boolean":y,"[object Boolean]":y,"[object Date]":p,"[object RegExp]":t},h="",s="{",b="}",A="[",m="]",u=",",c=",\n",q="\n",K=":",l=": ",w='"',g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},W=function(S){var e=typeof S;return J[e]||J[o.call(S)]||(e===t?(S?t:D):H)},O=function(e){if(!f[e]){f[e]="\\u"+("0000"+(+(e.charCodeAt(0))).toString(16)).slice(-4)}return f[e]},z=function(e){return w+e.replace(g,O)+w},B=function(e,S){return e.replace(/^/gm,S)},N=function(S,ae,e){if(S===undefined){return undefined}var Y=r(ae)?ae:null,ad=o.call(e).match(/String|Number/)||[],af=j.JSON.dateToString,ac=[],aa,Z,ab;if(Y||!x(ae)){ae=undefined}if(ae){aa={};for(Z=0,ab=ae.length;Z<ab;++Z){aa[ae[Z]]=true}ae=aa}e=ad[0]==="Number"?new Array(Math.min(Math.max(0,e),10)+1).join(" "):(e||h).slice(0,10);function X(ai,ao){var am=ai[ao],aq=W(am),al=[],ak=e?l:K,aj,ah,ap,ag,an;if(M(am)&&r(am.toJSON)){am=am.toJSON(ao)}else{if(aq===p){am=af(am)}}if(r(Y)){am=Y.call(ai,ao,am)}if(am!==ai[ao]){aq=W(am)}switch(aq){case p:case t:break;case T:return z(am);case E:return isFinite(am)?am+h:D;case y:return am+h;case D:return D;default:return undefined}for(ah=ac.length-1;ah>=0;--ah){if(ac[ah]===am){throw new Error("JSON.stringify. Cyclical reference")}}aj=x(am);ac.push(am);if(aj){for(ah=am.length-1;ah>=0;--ah){al[ah]=X(am,ah)||D}}else{ap=ae||am;ah=0;for(ag in ap){if(ap.hasOwnProperty(ag)){an=X(am,ag);if(an){al[ah++]=z(ag)+ak+an}}}}ac.pop();if(e&&al.length){return aj?A+q+B(al.join(c),e)+q+m:s+q+B(al.join(c),e)+q+b}else{return aj?A+al.join(u)+m:s+al.join(u)+b}}return X({"":S},"")},a=Q["eval"],I=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,R=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,C=/(?:^|:|,)(?:\s*\[)+/g,L=/[^\],:{}\s]/,d=function(e){return"\\u"+("0000"+(+(e.charCodeAt(0))).toString(16)).slice(-4)},k=function(X,e){var S=function(ac,aa){var Z,Y,ab=ac[aa];if(ab&&typeof ab==="object"){for(Z in ab){if(ab.hasOwnProperty(Z)){Y=S(ab,Z);if(Y===undefined){delete ab[Z]}else{ab[Z]=Y}}}}return e.call(ac,aa,ab)};return typeof e==="function"?S({"":X},""):X},v=function(S,e){S=S.replace(I,d);if(!L.test(S.replace(i,"@").replace(R,"]").replace(C,""))){return k(a("("+S+")"),e)}throw new SyntaxError("JSON.parse")},F;if(G){try{n=("0"===G.stringify(0))}catch(U){n=false}try{P=(G.parse('{"ok":false}',function(S,e){return S==="ok"?true:e})).ok}catch(U){P=false}}F=P?G.parse:v;j.JSON={stringify:n?G.stringify:N,parse:function(X,S){if(typeof X!=="string"){X+=""}try{return F(X,S)}catch(Y){}},_stringify:N,_parse:v,useNativeParse:P,useNativeStringify:n}})(SINA,window);(function(h){var a=h.isNull,g=h.isUndefined,d=h.isFunction,e=h.isBoolean,q=h.isNumber,c=h.isString,j=h.isArray,p=h.isObject,l=Object.prototype.toString,b=h.Array.map,o=[],k=function(r){var s=h.QueryString.unescape;return function t(y,A){var u,z,x,w,v;if(arguments.length!==2){y=y.split(r);return t(s(y.shift()),s(y.join(r)))}y=y.replace(/^\s+|\s+$/g,"");if(h.isString(A)){A=A.replace(/^\s+|\s+$/g,"");if(!isNaN(A)){z=+A;if(A===z.toString(10)){A=z}}}u=/(.*)\[([^\]]*)\]$/.exec(y);if(!u){v={};if(y){v[y]=A}return v}w=u[2];x=u[1];if(!w){return t(x,[A])}v={};v[w]=A;return t(x,v)}},f=function(s,r){return((!s)?r:(j(s))?s.concat(r):(!p(s)||!p(r))?[s].concat(r):n(s,r))},n=function(t,r){for(var s in r){if(s&&r.hasOwnProperty(s)){t[s]=f(t[s],r[s])}}return t},i=function(t){var s=t.split("&"),w=b(s,k("=")),r={},u=0,v=w.length;for(;u<v;u++){r=f(r,w[u])}return r},m=function(z,w,r){var u,x,A,v,t,D,C="&",B="=",y=h.QueryString.escape;w=!!w;if(a(z)||g(z)||d(z)){return r?y(r)+B:""}if(e(z)||l.call(z)==="[object Boolean]"){z=+z}if(q(z)||c(z)){return y(r)+B+y(z)}if(j(z)){D=[];r=w?r+"[]":r;v=z.length;for(A=0;A<v;A++){D.push(m(z[A],w,r))}return D.join(C)}for(A=o.length-1;A>=0;--A){if(o[A]===z){return""}}o.push(z);D=[];u=r?r+"[":"";x=r?"]":"";for(A in z){if(z.hasOwnProperty(A)){t=u+A+x;D.push(m(z[A],w,t))}}o.pop();D=D.join(C);if(!D&&r){return r+"="}return D};h.QueryString={escape:encodeURIComponent,unescape:function(r){return decodeURIComponent(r.replace(/\+/g," "))},stringify:m,parse:i}})(SINA);(function(b,a,c){a.IO={E_START:"io-start",E_COMPLETE:"io-complete",E_SUCCESS:"io-success",E_FAILURE:"io-failure",E_CANCEL:"io-cancel",_splitUrl:function(f){var i,j,g,h,d,e;if((j=f.lastIndexOf("/"))===-1){j=0}h=f.indexOf("#",j);e=(h>-1)?f.substr(h+1):"";g=f.indexOf("?",j);if(g>-1){d=(h>-1)?f.substr(g+1,h-g-1):f.substr(g+1);i=f.substr(0,g)}else{d="";i=(h>-1)?f.substr(0,h):f}return[i,d,e]}}})(window,SINA);(function(k,h,i){var y=h.extend,n=h.isString,m=h.isObject,r=h.isPlainObject,b=h.isFunction,f=h.IO,A=h.Event,e=h.JSON,a=e&&e.parse,p=function(){},x=f.E_START,t=f.E_COMPLETE,z=f.E_SUCCESS,d=f.E_FAILURE,g=f.E_CANCEL,o=f._splitUrl,v=1,c=function(F,C){var B,E,D=F;C=C.toLowerCase();if(!n(F)){B=F.getResponseHeader("Content-Type")||"";E=(C==="xml")||!C&&B.indexOf("xml")>-1;D=E?F.responseXML:F.responseText;if(E&&(D===null||D.documentElement.nodeName==="parsererror")){throw new Error("parsererror")}}if(n(D)){if(C==="json"||!C&&B.indexOf("json")>-1){if(a){D=a(D);if(D===i){throw new Error("parsererror")}}}}return D},q=k.location.protocol,s=k.XMLHttpRequest,j=k.ActiveXObject,l=j?function(){if(s&&q!=="file:"){try{return new s()}catch(B){}}try{return new j("Microsoft.XMLHTTP")}catch(B){}}:function(){return new s()},u={method:"GET",data:"",dataType:"text",async:true,timeout:0,cache:false,headers:{},onstart:null,oncomplete:null,onsuccess:null,onfailure:null},w=function(C,B){if(!(this instanceof w)){return new w(C,B)}if(!n(C)||C.length===0){return}this.url=C;this.id=v++;y(B,u);this._config=B;if(B.onstart){this.addListener(x,function(D){B.onstart(D.xhr)})}if(B.oncomplete){this.addListener(t,function(D){B.oncomplete(D.data,D.status,D.xhr)})}if(B.onsuccess){this.addListener(z,function(D){B.onsuccess(D.data,D.status,D.xhr)})}if(B.onfailure){this.addListener(d,function(D){B.onfailure(D.data,D.status,D.xhr)})}};y(w.prototype,{_xhr:null,_timer:null,id:0,running:false,url:"",send:function(Q){if(this.running){return}this.running=true;var N=this,G=N.url,L,I,B,R,D=N.running,K,J=N._config,M=J.cache,S=Q||J.data,F=J.method&&J.method.toUpperCase()||"GET",O=J.dataType&&J.dataType.toLowerCase()||"text",H=J.async,C=J.headers,E;L=o(G);I=L[0];B=L[1];R=L[2];if(!J.cache){B+=(B.length)?"&sul_ts="+h.now():"sul_ts="+h.now()}if(S&&F==="GET"){B+=(B.length)?"&"+S:S;S=null}if(S&&F==="POST"){y(C,{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"})}G=I;if(B){G+="?"+B}if(R){G+="#"+R}N._xhr=K=l();K.open(F,G,H);for(E in C){if(C.hasOwnProperty(E)){K.setRequestHeader(E,C[E])}}K.onreadystatechange=function(){if(N.running&&K&&K.readyState===4){var T,U=z,W="";N.running=false;K.onreadystatechange=p;if(N.timer){N.timer.cancel()}try{T=K.status;if(T>=200&&T<300||T===304||T===1223){U=z;W="success"}else{U=d;W="failure"}S=c(K,O)}catch(V){W=V.message;if(W!=="parsererror"){U=d}}N.trigger(U,{data:S,status:W,xhr:K});N.trigger(t,{data:S,status:W,xhr:K})}else{if(!K||K.readyState===0){if(N.running){N.trigger(t,{status:"aborted",xhr:K});N.running=false}if(K){K.onreadystatechange=p}}}};N.trigger(x,{xhr:K});try{K.send(F==="POST"?S:null)}catch(P){N.trigger(d,{status:"failure",xhr:K});N.trigger(t,{status:"failure",xhr:K})}if(J.timeout){N.timer=h.later(function(){N.cancel();K.abort();K.onreadystatechange=p;N.trigger(d,{status:"timeout",xhr:K})},J.timeout)}if(!H){N.trigger(t,{status:"success",xhr:K})}},cancel:function(){if(this.running){this.running=false;var B=this._xhr;B.abort();B.onreadystatechange=p;if(this.timer){this.timer.cancel();this.timer=null}this.trigger(t,{status:"aborted",xhr:B})}}});h.makeTarget(w);y(f,{Request:w})})(window,SINA);(function(i,f,h){var u=f.extend,k=f.isString,j=f.isObject,n=f.isPlainObject,a=f.isFunction,d=f.IO,y=f.Event,c=f.JSON,s=f.QueryString,m=function(){},r=d.E_START,o=d.E_COMPLETE,w=d.E_SUCCESS,b=d.E_FAILURE,e=d.E_CANCEL,l=d._splitUrl,v=/\.css(?:\?|$)/i,x=i.document,g=x.getElementsByTagName("head")[0]||x.documentElement,p=x.createElement("script").readyState?function(A,B){var z=A.onreadystatechange;A.onreadystatechange=function(){var C=A.readyState;if(C==="loaded"||C==="complete"){A.onreadystatechange=null;z&&z();B.call(this)}}}:function(z,A){z.addEventListener("load",A,false)},t=function(A,B){var z=v.test(A),C=x.createElement(z?"link":"script");if(z){C.href=A;C.rel="stylesheet"}else{C.src=A;C.async=true}if(z){if(a(B)){B.call(C,"")}}else{p(C,function(){if(a(B)){B.call(C,"")}if(g&&C.parentNode){g.removeChild(C)}})}g.insertBefore(C,g.firstChild);return C},q=function(z,D,L,E,B,K){var H=l(z),A=H[0],G=H[1],J=H[2],F,C,I=null;if(k(D)){G+=(G.length)?"&"+D:D}if(E){K=K||"callback";B=B||("jsonp"+f.now()+Math.floor(Math.random()*100000));F=K+"="+B;G+=(G.length)?"&"+F:F;C=i[B];i[B]=function(M){if(a(C)){C(M)}else{i[B]=h;try{delete i[B]}catch(N){}}if(a(L)){L(M)}}}else{I=L}z=A;if(G){z+="?"+G}if(J){z+="#"+J}return t(z,I)};u(d,{loadScript:function(z,A,B){if(a(A)){B=A;A=null}return q(z,A,B)},getJSONP:function(z,A,D){var C=arguments[3],B=arguments[4];if(a(A)){B=C;C=D;D=A;A=null}return q(z,A,D,true,C,B)}})})(window,SINA);(function(c,b,e){var f=b.extend,a=b.IO,d=b.isFunction;f(a,{ajax:function(i,h){var k=h&&h.dataType&&h.dataType.toLowerCase(),g=h&&h.onsuccess,j=d(g)?function(m){h.onsuccess({data:m,status:"success",xhr:null})}:null;switch(k){case"script":return a.loadScript(i,h.data,j);case"jsonp":return a.getJSONP(i,h.data,j,h.jsonpCallback,h.jsonp);default:var l=new a.Request(i,h);l.send();return l}},get:function(h,i,j,g){if(d(i)){g=j;j=i;i=null}return a.ajax(h,{method:"GET",data:i,onsuccess:j,dataType:g})},post:function(h,i,j,g){if(d(i)){g=j;j=i;i=null}return a.ajax(h,{method:"POST",data:i,onsuccess:j,dataType:g})}})})(window,SINA);
//weibocard
(function(k,e){var p=e.Event,r=e.DOM,f=e.extend,A=e.isNumber,F=e.isFunction,x=e.isString,m=e.isElement,u=e.isObject,C=e.arrayify,j=e.trim,w=r.addClass,o=function(){},t=k.document,z=e.query,B=function(E,D){var H=z(E,D);if(H&&H.length){return H[0]}return null},l=function(E){var D=E.cloneNode(true);if(ie<8){D.innerHTML=E.innerHTML}return D},y=function(E,D){var H=D.createElement("div");H.innerHTML=E;return H},c=function(D,I){if(D&&D.length){var J=null,E=0,H=D.length;I=I||D[0].ownerDocument;J=I.createDocumentFragment();if(D.item){D=C(D)}for(E=0,len=D.length;E<len;E++){J.appendChild(D[E])}return J}return null},h=function(I,H){if(typeof I==="string"&&(I=j(I))){var D=null,J,E=y;H=H||t;J=E(I,H).childNodes;if(J.length===1){D=J[0].parentNode.removeChild(J[0])}else{D=c(J,H)}return D}return null},a=Object.create?function(D,E){return Object.create(D,{constructor:{value:E}})}:function(E,I){function D(){}D.prototype=E;var H=new D();H.constructor=I;return H},v=function(J,L,I,M){if(!L||!J){return J}var E=L.prototype,D,H,K;D=a(E,J);J.prototype=f(D,J.prototype,true);J.superclass=a(E,L);if(I){f(D,I,true)}if(M){f(J,M,true)}return J},G="_sinaguid_"+(new Date()).getTime(),n={},g=function(E){if(!x(E)){E=""}var D="counter"+E;if(!n[D]){n[D]=0}n[D]++;return E+n[D]},d=function(I,D){var E=null;if(I){E=(typeof I==="string")?I:I[G];if(!E&&!D){try{I[G]=E=g()}catch(H){}}E=E||null}return E},q={},i={INIT:"init",INIT_END:"initend",RENDER:"render",RENDER_END:"renderend",DESTROY:"destroy",DESTROY_END:"destroyend"},s={render:null,source:null,width:"",height:""};function b(D){this.init.apply(this,arguments);var E=D&&D.render;if(E){if(E!==true){this.render(E)}else{this.render()}}}f(b.prototype,{WRAPPER_TAG:"div",CONTENT_TAG:"div",CSS_PREFIX:"sina-",_initialized:false,_destroyed:false,_rendered:false,init:function(D){D=D||{};this.trigger(i.INIT,{config:D});this._initAll(D);this._initialized=true;this.trigger(i.INIT_END)},destroy:function(){this.trigger(i.DESTROY);this._destroyAll();this.removeListener();this._destroyed=true;this.trigger(i.DESTROY_END)},_initAll:function(){if(!this._initialized){var I,H,E=this._inheritanceChain(),D;for(D=E.length-1;D>=0;D--){I=E[D];H=I.prototype;if(H.hasOwnProperty("initializer")){H.initializer.apply(this,arguments)}}}},_destroyAll:function(){if(!this._destroyed){var J,I,H=this._inheritanceChain(),E,D;for(E=0,D=H.length;E<D;E++){J=H[E];I=J.prototype;if(I.hasOwnProperty("destructor")){I.destructor.apply(this,arguments)}}}},initializer:function(D){var E=D.source;if(m(E)){this.contentBox=E}else{if(x(E)){this.contentBox=B(E)}else{this.contentBox=null}}this._width=D.width||"";this._height=D.height||""},destructor:function(){},render:function(E){this.trigger(i.RENDER,{container:E});if(x(E)){E=B(E)}else{if(!m(E)){E=null}}var L=E,D,K=this.contentBox,I=!K,M=t,N=this.constructor,J=this.WRAPPER_TAG,H=this.CONTENT_TAG;if(d(K,true)){return}d(K);this.elements={};this.wrapperBox=D=M.createElement(J);if(I){this.contentBox=K=M.createElement(H);D.appendChild(K)}else{K.parentNode.insertBefore(D,K);D.appendChild(K);this.queryElements()}if(L){if(L!==D.parentNode){L.insertBefore(D,L.firstChild)}}else{if(I){L=t.body;L.insertBefore(D,L.firstChild)}}this._renderAll();this._rendered=true;this.trigger(i.RENDER_END)},_renderAll:function(){if(this._initialized&&!this._rendered){var K,J,E=this._inheritanceChain(),D,L=this.CSS_PREFIX||"",H="",M=this.wrapperBox,I=this.contentBox;for(D=E.length-1;D>=0;D--){K=E[D];H=L+K.NAME;J=K.prototype;if(J.hasOwnProperty("renderer")){J.renderer.apply(this,arguments)}w(M,H)}w(I,H+"-content")}},renderer:function(){var I=this.wrapperBox,H=this.contentBox,E=this._width,D=this._height;if(!I||!H){return}if(A(E)){I.style.width=E+"px"}else{if(x(E)){I.style.width=E}}if(A(D)){I.style.height=D+"px"}else{if(x(D)){I.style.height=D}}},queryElements:function(){var D=this._getQueries(),E,I,H=this.contentBox,J=this.elements;for(E in D){I=B(D[E],H);if(I){J[E]=I}}},_getQueries:function(){var D={},H=this._inheritanceChain(),E,I;for(E=H.length-1;E>=0;E--){I=H[E]._queries;if(I){f(D,I,true)}}return D},_inheritanceChain:function(){if(!this.__chain){var D=[],E=this.constructor;while(E){D.push(E);E=E.superclass&&E.superclass.constructor}this.__chain=D}return this.__chain}});e.makeTarget(b);f(b,{NAME:"widget",guid:g,stamp:d});e.Widget=b;e.createWidget=function(I,D,H){if(!F(I)){H=D;D=I;I=b}H=H||{};D=D||{};var E=function(){E.superclass.constructor.apply(this,arguments)};v(E,I,D,H);return E}})(window,SINA);(function(d,a){if(d.WeiboMod&&d.WeiboMod.VERSION){return}var c=a.Widget,b=a.createWidget,e={VERSION:"0.1",guid:c.guid,stamp:c.stamp,createWidget:b};d.WeiboMod=e})(window,SINA);(function(i,d){var u=i.WeiboMod,w=d.arrayify,h=d.trim,r=d.isNumber,g=d.isArray,v=d.DOM,e=v.next,p=i.document,j=function(y){var x=y.cloneNode(true);if(ie<8){x.innerHTML=y.innerHTML}return x},q=function(y,x){var z=x.createElement("div");z.innerHTML=y;return z},c=function(x,A){if(x&&x.length){var B=null,y=0,z=x.length;A=A||x[0].ownerDocument;B=A.createDocumentFragment();if(x.item){x=w(x)}for(y=0,len=x.length;y<len;y++){B.appendChild(x[y])}return B}return null},f=function(A,z){if(typeof A==="string"&&(A=h(A))){var x=null,B,y=q;z=z||p;B=y(A,z).childNodes;if(B.length===1){x=B[0].parentNode.removeChild(B[0])}else{x=c(B,z)}return x}return null},o=function(z){var C=z.offsetParent,y=z.offsetLeft,B=0,A=p.body;while(C){y+=C.offsetLeft;C=C.offsetParent}C=z.parentNode;while(C!==A){B+=C.scrollLeft;C=C.parentNode}return y-B},n=function(x){var C=x.offsetParent,B=x.offsetTop,A=0,z=p.body;while(C){B+=C.offsetTop;C=C.offsetParent}C=x.parentNode;while(C!==z){A+=C.scrollTop;C=C.parentNode}return B-A},m=(function(){var y=!!p.selection,A,x,z,B;if(y){A=function(C){C.focus();var D={text:"",start:0,end:0},E=0,F=p.selection.createRange(),G=p.body.createTextRange();G.moveToElementText(C);D.text=F.text;D.bookmark=F.getBookmark();for(;G.compareEndPoints("StartToStart",F)<0&&F.moveStart("character",-1)!==0;E++){if(C.value.charAt(E)=="\n"){E++}}D.start=E;D.end=D.text.length+D.start;return D};x=function(C,D){if(!D){this.toHead()}var E=C.createTextRange();if(C.value.length===D.start){E.collapse(false);E.select()}else{E.moveToBookmark(D.bookmark);E.select()}};z=function(C,D,F){var E;this.setPosition(C,D);E=p.selection.createRange();E.text=F;E.setEndPoint("StartToEnd",E);E.select()};B=function(C,E){var D=C.createTextRange();D.collapse(true);D.moveEnd("character",E);D.moveStart("character",E);D.select()}}else{A=function(C){C.focus();var D={text:"",start:0,end:0};D.start=C.selectionStart;D.end=C.selectionEnd;D.text=(D.start!==D.end)?C.value.substring(D.start,D.end):"";return D};x=function(C,D){if(!D){this.toHead(C);return}C.focus();C.setSelectionRange(D.start,D.end)};z=function(C,D,J){var F,G,H,I,E;this.setPosition(C,D);F=C.value;G=F.substring(0,D.start)+J+F.substring(D.end);H=I=D.start+J.length;E=C.scrollTop;C.value=G;if(C.scrollTop!=E){C.scrollTop=E}C.setSelectionRange(H,I)};B=function(C,D){C.focus();C.setSelectionRange(D,D)}}return{getPosition:A,setPosition:x,setText:z,moveTo:B,toHead:function(C){this.moveTo(C,0)},toTail:function(C){this.moveTo(C,C.value.length)}}})(),k=(function(){var x=(function(){var G=p.createElement("canvas");return"getContext" in G})(),y=1,z=2,C=440,E=Math.PI/2,F=[{M11:1,M12:0,M21:0,M22:1},{M11:0,M12:-1,M21:1,M22:0},{M11:-1,M12:0,M21:0,M22:-1},{M11:0,M12:1,M21:-1,M22:0}],D=function(L,I){if(!L){return}var N=L._angle||0,J=0,O=L.width,M=L.height,K=1,H=e(L),P,G;if(!H){H=f('<canvas class="'+(L.className||"")+'" style="display:none;"></canvas>');L.parentNode.insertBefore(H,null)}switch(I){case y:J=(N+3)%4;break;case z:J=(N+1)%4;break;default:if(N===0){return}break}P=H.getContext("2d");if(J===1||J===3){if(M>C){H.width=C;G=H.height=C/M*O;P.save();P.rotate(J*E);if(J===3){P.drawImage(L,-G,0,G,C)}else{P.drawImage(L,0,-C,G,C)}P.restore()}else{H.width=M;H.height=O;P.save();P.rotate(J*E);if(J===3){P.drawImage(L,-O,0)}else{P.drawImage(L,0,-M)}P.restore()}}else{H.width=O;H.height=M;P.save();P.rotate(J*E);if(J===2){P.drawImage(L,-O,-M)}else{P.drawImage(L,0,0)}P.restore()}L.style.display="none";H.style.display="inline";L._angle=J},B="DXImageTransform.Microsoft.Matrix",A=function(L,H){if(!L){return}var N=L._angle||0,K=0,Q=L.width,M=L.height,G,P,J=1,I="auto";switch(H){case y:K=(N+3)%4;break;case z:K=(N+1)%4;break;default:if(N===0){return}break}try{G=L.filters.item(B)}catch(O){L.style.filter="progid:"+B+'(SizingMethod="auto expand")';G=L.filters.item(B)}P=F[K];if(K===1||K===3){if(M>C){J=C/M}L.parentNode.style.height=(J*Q)+"px"}else{L.parentNode.style.height=M+"px"}G.M11=J*P.M11;G.M12=J*P.M12;G.M21=J*P.M21;G.M22=J*P.M22;L._angle=K};return{TURN_LEFT:y,TURN_RIGHT:z,MAX_IMG_WIDTH:C,DEG_90:E,ROTATE_MATRIX:F,mode:x?"canvas":"filter",rotateCanvas:D,rotateFilter:A,rotate90:x?D:A}})(),a=(function(){function x(D){if(!D){return -1}var E=D.slice(0,10)+D.slice(25)+D.slice(10,25);return Date.parse(E)||-1}function A(){var G=new Date(),I=G.getFullYear(),D=G.getMonth(),H=G.getDate(),E=new Date(I,D,H),F=new Date(I,0,1);return{now:G.getTime(),today:E.getTime(),thisYear:F.getTime()}}var B=A(),z=B.now,C=B.today,y=B.thisYear;return{getCurrent:A,timestamp:x,update:function(){var D=A();z=D.now;C=D.today;y=D.thisYear},displayString:function(G){G=parseInt(G,10)||0;if(!G){return"未知时间"}var F=Math.floor((z-G)/1000),D="",E;if(F<=10){D="10秒前"}else{if(F<=50){D=Math.ceil(F/10)*10+"秒前"}else{if(F<=3600){D=Math.round(F/60)+"分钟前"}else{if(G>C&&z-3600000>C){D="今天 "+(new Date(G)).toTimeString().substr(0,5)}else{if(G>y){E=new Date(G);D=(E.getMonth()+1)+"月"+E.getDate()+"日 "+E.toTimeString().substr(0,5)}else{E=new Date(G);D=E.getFullYear()+"-"+(E.getMonth()+1)+"-"+E.getDate()+" "+E.toTimeString().substr(0,5)}}}}}return D}}})(),l=function(x){var y=x.charAt(0);if(y=="#"){return'<a href="http://weibo.com/k/'+encodeURIComponent(x.slice(1,-1))+'" target="_blank">'+x+"</a>"}else{if(y=="@"){y=x.slice(5,7);if(y==":/"||y=="s:"){x=x.slice(1);return'@<a href="'+x+'" target="_blank">'+x+"</a>"}else{return'<a href="http://weibo.com/n/'+encodeURIComponent(x.slice(1))+'" target="_blank">'+x+"</a>"}}else{return'<a href="'+x+'"  target="_blank">'+x+"</a>"}}},t=/(?:#[^#]*#|@?http\s?\:\/\/[\w\.\/\-\%\?&\+]{4,}|\@[\w\-\u4e00-\u9fa5]+)/ig,s=function(x){return x.replace(t,l)},b={Textarea:m,Image:k,Time:a,cloneNode:j,createFromString:f,pageX:o,pageY:n,updateWordCount:function(z,B,E){if(!z||!B){return}E=E||0;var D=z.value||"",A=/[^x00-xff]/g,y=Math.round(D.replace(A,"aa").length/2),x=140,C;if((y+E)<=x){C=x-y-E;B.innerHTML="你还可以输入<em>"+C+"</em>字"}else{C=y-x+E;B.innerHTML='<span style="color:red">已经超出<em>'+C+"</em>字</span>"}},replaceStatusText:s};u.Utils=b})(window,SINA);(function(F,g){var e=F.document,c=e.documentElement,q=F.WeiboMod,B=q.Utils,f=g.Widget,l=g.Event,u=g.createWidget,w=g.extend,N=g.query,t=g.isNumber,J=g.DOM.style,b=l.addListener,A=l.removeListener,i=B.cloneNode,r=B.createFromString,M="weibomod-",m="dialog",v=".",o=M+m+"-",s=o+"hd",n=o+"bd",h=o+"title",C=o+"close",y='<div class="',H='"></div>',I=y+s+H,G=y+n+H,L=y+h+H,K='<a title="关闭" class="'+C+'" href="javascript:void(0);">x</a>',a=o+"overlay-b",z=o+"overlay-p",d=y+a+H,k=y+z+H,x="show",D="hide",j="move",p=q.createWidget({CSS_PREFIX:M,initializer:function(P){var R,Q={},O=true,E=false,S=false;if(P){O=P.borderWidth||"";if(t(O)){O=O+"px"}E=!!P.overlay;display=P.display||"none";R=P.children;if(R){Q.title=R.title||"";Q.body=R.body||""}}this._borderWidth=O;this._hasOverlay=E;this._display=display;this._children=Q},destructor:function(){},renderer:function(){var P=this.wrapperBox,U=this.contentBox,Y=this.constructor,E=this.elements,S=E.header,T=E.body,X=E.title,Z=E.close,O,Q,W=this._borderWidth,R=this._children,V=this;P.style.position="absolute";U.style.position="relative";if(!S&&!T){S=r(I);T=r(G);X=r(L);Z=r(K);X.innerHTML=R.title||"";T.innerHTML=R.body||"";S.appendChild(X);S.appendChild(Z);U.appendChild(S);U.appendChild(T);E.header=S;E.title=X;E.close=Z;E.body=T}if(W){this.borderBox=O=r(d);O.style.position="absolute";O.style.left="-"+W;O.style.top="-"+W;P.insertBefore(O,U)}if(this._hasOverlay){this.overlayBox=Q=r(k);Q.style.position="absolute";Q.style.left=0;Q.style.top=0;P.parentNode.insertBefore(Q,P)}P.style.display=this._display;if(Q){Q.style.display=this._display}b(Z,"click",function(aa){V.hide();return false})},move:function(E,P){if(!this._rendered||this._destroyed){return}this.trigger(j,{x:E,y:P});var O=this.wrapperBox;if(t(E)){O.style.left=E+"px"}else{O.style.left=E}if(t(P)){O.style.top=P+"px"}else{O.style.top=P}},show:function(){if(!this._rendered||this._destroyed){return}this.trigger(x);var P=this.wrapperBox,O=this.overlayBox,E=this.borderBox;this._adjustSize();P.style.display="block";if(O){O.style.display="block"}},_adjustSize:function(){if(!this._rendered||this._destroyed){return}var S=this.wrapperBox,P=this.overlayBox,O=this.borderBox,R=parseInt(this._borderWidth)||0,E=parseInt(J(S,"width"))||0,Q=parseInt(J(S,"height"))||0;if(P){P.style.width=((c&&c.scrollWidth)||2000)+"px";P.style.height=((c&&c.scrollHeight)||2000)+"px"}if(O){O.style.width=(E+R*2)+"px";O.style.height=(Q+R*2)+"px"}},hide:function(){if(!this._rendered||this._destroyed){return}this.trigger(D);var O=this.wrapperBox,E=this.overlayBox;O.style.display="none";if(E){E.style.display="none"}},moveToPageCenter:function(){var E=this.wrapperBox,X=F.self,P=e.body,V,S,U,T,R,O,W,Q;U=X.pageXOffset||(c&&c.scrollLeft)||P.scrollLeft||0;T=X.pageYOffset||(c&&c.scrollTop)||P.scrollTop||0;R=X.innerWidth||(c&&c.clientWidth)||P.clientWidth||0;O=X.innerHeight||(c&&c.clientHeight)||P.clientHeight||0;W=parseInt(J(E,"width"))||0;Q=parseInt(J(E,"height"))||0;V=U+R/2-W/2;S=T+O/2-Q/2;if(V<0){V=0}if(S<0){S=0}this.move(V,S)}},{NAME:m,HEADER_TEMPLATE:I,BODY_TEMPLATE:G,CLOSE_TEMPLATE:K,TITLE_TEMPLATE:L,_queries:{header:v+s,body:v+n,title:v+h,close:v+C},_classNames:{header:s,body:n,title:h,close:C}});q.Dialog=p})(window,SINA);(function(J,d){var c=J.document,o=J.WeiboMod,G=o.Utils,A=G.Time,h=A.update,Q=A.timestamp,m=A.displayString,i=G.cloneNode,q=G.createFromString,u=d.extend,T=d.query,k=d.DOM,j=d.Event,b=j.addListener,F=j.removeListener,R="weibomod-",l="usercard",r=".",n=R+l+"-",y=n+"portrait",s=n+"info",w=n+"description",p=n+"post",t=n+"name",H=n+"v",z=n+"counts",f=n+"followBtn",I=n+"notfollowed",a=n+"followed",g='<div class="',e='">',K="</div>",x=g+y+e+K,C=g+s+e+K,v=g+w+e+K,B=g+p+e+K,V='<p class="'+t+'"></p>',U='<p class="'+z+'"></p>',P='<a class="'+f+" "+I+'" href="javascript:void(0)"><em>+</em>加关注</a>',O='<span class="'+f+" "+a+'">已关注</span>',M="follow",L="unfollow",N=o.createWidget({CSS_PREFIX:R,initializer:function(D){var E={},W=null,S="",X={head:true,followers:true,info:true,followButton:true};if(D){W=D.data||null;S=D.channel||"";u(X,D.display,true);u(E,D.children)}this._display=X;this._children=E;this._channel=S;this._userData=W},destructor:function(){},renderer:function(){var ae=this,ag=ae.constructor,S=ae.wrapperBox,ad=ae.contentBox,D=ae.elements,af,W,ab,ah,E,aa,X,Y,Z=ae._userData,ac=ae._channel;af=q(N.PORTRAIT_TEMPLATE);W=q(N.INFO_TEMPLATE);ab=q(N.DESC_TEMPLATE);ah=q(N.POST_TEMPLATE);E=q(N.NAME_TEMPLATE);aa=q(N.COUNT_TEMPLATE);X=q(N.FOLLOW_TEMPLATE);Y=q(N.FOLLOWED_TEMPLATE);W.appendChild(E);W.appendChild(aa);W.appendChild(X);W.appendChild(Y);ad.appendChild(af);ad.appendChild(W);ad.appendChild(ab);ad.appendChild(ah);D.portrait=af;D.info=W;D.desc=ab;D.post=ah;D.name=E;D.count=aa;D.followBtn=X;D.unfollowBtn=Y;X.style.display="none";Y.style.display="none";ae.setUserData(Z,ac);b(X,"click",function(al){var ai=ae._userData,aj=(ai&&ai.id)||null,ak=ae._channel;ae.trigger(M,{uid:aj,channel:ak});return false})},changeStatus:function(D){if(!this._rendered||this._destroyed){return}var S=this.elements,W=S.followBtn,E=S.unfollowBtn;if(D){W.style.display="none";E.style.display="block"}else{W.style.display="block";E.style.display="none"}},setUserData:function(ay,az,av){if(!ay||!this._rendered||this._destroyed){return}this._userData=ay;this._channel=az;var ae=this.elements,am=ae.portrait,au=ae.info,ar=ae.desc,ao=ae.post,aA=ae.name,Z=ae.count,at=ae.followBtn,an=ae.unfollowBtn,ag,S=(av?"?"+av+"=":"?zw="),aa=(az?S+az:""),ad=ay.maxChar||40,X=ay.idstr,ac=ay.screen_name,aq=ay.profile_image_url,al=ay.profile_url||ay.domain||"u/"+X,W=ay.verified,D="http://weibo.com/",ab=D+al+aa,ap=D+X+"/fans"+aa,ax=ay.following,ah=ay.followers_count,Y=ay.verified_reason||ay.description,ak=ay.status,E,aw,ai,aj,af;am.innerHTML='<a href="'+ab+'" target="_blank"><img src="'+aq+'" alt="" /></a>';ag='<a href="'+ab+'" target="_blank">'+ac;if(W){ag+='<img alt="" title="新浪认证" class="'+H+'" src="http://timg.sjs.sinajs.cn/t3/style/images/common/transparent.gif" />'}ag+="</a>";aA.innerHTML=ag;Z.innerHTML='<a href="'+ap+'" target="_blank">粉丝</a> <em>'+ah+"</em>";if(ax){at.style.display="none";an.style.display="block"}else{at.style.display="block";an.style.display="none"}ar.innerHTML="简介："+Y;h();if(ak){E=ak.proxy_mid_base62||0;aw=ak.text||"无";ai=ak.created_at;aj=ak.thumbnail_pic;af="http://weibo.com/"+X+"/"+E+aa;if(aw.length>ad){aw=aw.slice(0,ad)+"...";ao.innerHTML='<a target="_blank" href="'+af+'">'+m(Q(ai))+"</a> "+G.replaceStatusText(aw)+'&nbsp;&nbsp;&nbsp;<a href="'+af+'" target="_blank">详细 &raquo;</a>'}else{ao.innerHTML='<a target="_blank" href="'+af+'">'+m(Q(ai))+"</a> "+G.replaceStatusText(aw)}ao.style.display="block"}else{ao.innerHTML="";ao.style.display="none"}}},{NAME:l,PORTRAIT_TEMPLATE:x,INFO_TEMPLATE:C,DESC_TEMPLATE:v,POST_TEMPLATE:B,NAME_TEMPLATE:V,COUNT_TEMPLATE:U,FOLLOW_TEMPLATE:P,FOLLOWED_TEMPLATE:O,_queries:{},_classNames:{},EVENTS:{FOLLOW:M,UNFOLLOW:L}});o.UserCard=N})(window,SINA);(function(l,e){var v=l.document,C=l.WeiboMod,c=C.Utils,r=C.UserCard,g=C.Dialog,G=c.createFromString,f=e.extend,A=e.later,h=e.Array.forEach,s=e.DOM,p=e.Event,k=s.style,z=p.addListener,b="weibomod-",u="usercardpopup",y=".",m=" ",d=b+u+"-",a=d+"loading",B="http://img.t.sinajs.cn/t3/style/images/common/loading.gif",q='<div class="',o='">',j="</div>",i=q+a+o+'<img src="'+B+'" />'+j,H=b+"arrow",F=q+H+o,t=["changeStatus"],w=r.EVENTS,n=[w.FOLLOW,w.UNFOLLOW],x=C.createWidget(C.Dialog,{CSS_PREFIX:b,initializer:function(D){var E={},J=null,I=null;if(D){J=D.data||null;I=D.channel||null;f(E,D.children)}this._children=E;this._userCard=new r({data:J,channel:I})},destructor:function(){},renderer:function(){var Q=this,I=Q.wrapperBox,P=Q.contentBox,T=Q.constructor,D=Q.elements,R=D.title,M=D.header,N=D.body,L,O=t.length,E,K,S,J=Q._userCard;K=G(x.LOADING_TEMPLATE);N.appendChild(K);D.loading=K;J.render(N);Q._userCard=J;M.style.display="none";S=G(F);P.appendChild(S);D.arrow=S;h(t,function(U){Q[U]=function(){J[U].apply(J,arguments)}});h(n,function(U){z(J,U,function(V){Q.trigger(U,V)})});z(I,"mouseenter",function(U){if(Q._showTimer){Q._showTimer.cancel();Q._showTimer=null}Q.show();return false});z(I,"mouseleave",function(U){if(Q._showTimer){Q._showTimer.cancel();Q._showTimer=null}Q._showTimer=A(function(){Q.hide();Q._showTimer=null},200);return false})},setLoading:function(E){if(!this._rendered||this._destroyed){return}var I=this.elements.loading,D=this._userCard.wrapperBox;if(E){D.style.display="none";I.style.display="block"}else{D.style.display="block";I.style.display="none"}this._adjustSize()},setUserData:function(I,D,E){this._userCard.setUserData(I,D,E);this._adjustSize()}},{NAME:u,LOADING_TEMPLATE:i,_queries:{},_classNames:{},EVENTS:{SHOW:"show",HIDE:"hide",MOVE:"move",FOLLOW:"follow",UNFOLLOW:"unfollow"}});C.UserCardPopup=x})(window,SINA);(function(j,h){var c=h.extend,k=h.arrayify,o=h.trim,b=!!j.postMessage,m=function(r){r=r||"";var q=(Math.random()+"").slice(2),p=(new Date()).getTime();return""+r+p+q},l=j.document,g=function(q){var p=q.cloneNode(true);if(ie<8){p.innerHTML=q.innerHTML}return p},d=function(q,p){var r=p.createElement("div");r.innerHTML=q;return r},i=function(p,s){if(p&&p.length){var t=null,q=0,r=p.length;s=s||p[0].ownerDocument;t=s.createDocumentFragment();if(p.item){p=k(p)}for(q=0,len=p.length;q<len;q++){t.appendChild(p[q])}return t}return null},f=function(s,r){if(typeof s==="string"&&(s=o(s))){var p=null,t,q=d;r=r||l;t=q(s,r).childNodes;if(t.length===1){p=t[0].parentNode.removeChild(t[0])}else{p=i(t,r)}return p}return null},n="http://api.sina.com.cn/script/javascript/postmsg.html",a="sina.com.cn",e={createNode:f,cloneNode:g,generateId:m,mode:b?"html5":"iframe",config:{proxyUrl:n,domain:a,form:null},setConfig:function(p){c(e.config,p,true)},send:b?function(p){var r=e.sender,q=e.config;if(!r){r=new e.Html5MsgSender({proxyUrl:q.proxyUrl});this.sender=r}r.send(p);return r}:function(p){var r,q=e.config;r=new e.IframeMsgSender({domain:q.domain,form:q.form});r.send(p);return r}};j.XDPost=e})(window,SINA);(function(i,h){var f=i.XDPost,b=h.extend,d=h.isFunction,c=document.addEventListener?function(o,n,m){if(o&&o.addEventListener){o.addEventListener(n,m,false)}}:function(o,n,m){if(o&&o.attachEvent){o.attachEvent("on"+n,m)}},l=document.removeEventListener?function(o,n,m){if(o&&o.removeEventListener){o.removeEventListener(n,m,false)}}:function(o,n,m){if(o&&o.detachEvent){o.detachEvent("on"+n,m)}},k=function(){},a=/^http\s?\:\/\/[a-z\d\-\.]+/i,g="sina-xdpost-iframe-",j=f.generateId,e=function(m){if(!(this instanceof e)){return new e(m)}m=m||{};this.init(m)};b(e.prototype,{ready:false,init:function(m){if(this.ready){return}var p=this,t,s,o,n,q,r=m.proxyUrl;p.onsuccess=m.onsuccess||k;p.onfailure=m.onfailure||k;if(!r){return}q=function(v){if(!p.ready||v.origin!==p.target){return}var u=v.data;if(!u||u==="failure"){p.onfailure&&p.onfailure()}else{p.onsuccess&&p.onsuccess(v.data)}};c(i,"message",q);t=j(g);s='<iframe id="'+t+'" name="'+t+'" src="'+r+'" frameborder="0" style="width:0;height:0;display:none;"></iframe>';o=f.createNode(s);n=function(){p.ready=true;var v=o.src,u=v.match(a);p.target=(u&&u[0])||"*"};c(o,"load",n);h.ready(function(){document.body.appendChild(o)});p._iframe=o;p._iframeLoaded=n;p._receiver=q},send:function(n){n=n||{};var p=this,o=n.url,r=n.data,m=n.onsuccess,q=n.onfailure;if(!o||typeof o!=="string"){return}if(m){p.onsuccess=m}if(q){p.onfailure=q}if(!p.ready){h.later(function(){p.send(n)},50);return}if(r){r+="&_url="+i.encodeURIComponent(o)}else{r="_url="+i.encodeURIComponent(o)}p._iframe.contentWindow.postMessage(r,p.target)},destroy:function(){var m=this._iframe;l(m,"load",this._iframeLoaded);m.parentNode.removeChild(m);l(i,"message",this._receiver);this._iframe=null;this._iframeLoaded=null;this._receiver=null}});f.Html5MsgSender=e})(window,SINA);(function(i,e){var d=i.XDPost,a=e.extend,m=e.ready,h=e.later,c=e.QueryString,g=c.parse,l=function(){},k="sina-xdpost-form-",f="sina-xdpost-iframe-",j=d.generateId,b=function(n){if(!(this instanceof b)){return new b(n)}n=n||{};this.init(n)};b.defaultDomain="sina.com.cn";a(b.prototype,{ready:false,init:function(n){if(this.ready){return}var p=this,s,r,u,t,o=n.form,q=n.domain||b.defaultDomain;p.onsuccess=n.onsuccess||l;p.onfailure=n.onfailure||l;if(!o){s=j(k);o=document.createElement("form");o.id=s;o.method="POST";m(function(){document.body.appendChild(o);p.ready=true})}t=function(v){p._clear();p.onsuccess&&p.onsuccess(v)};u=j("callback");i[u]=t;p.ready=e.isReady;p._callbackName=u;p._form=o;document.domain=q},send:function(u){u=u||{};var w=this,v,y,q,x,o,z,t=[],p=w._callbackName,n=u.url,r=u.data,A=u.onsuccess,s=u.onfailure;if(!n||typeof n!=="string"){return}if(A){w.onsuccess=A}if(s){w.onfailure=s}if(!w.ready){h(function(){w.send(u)},50);return}if(!(x=w._placeholder)){x=document.createElement("div");x.style.display="none";x.style.visibility="hidden";document.body.appendChild(x);w._placeholder=x}o=this._form;v=j(f);y='<iframe id="'+v+'" name="'+v+'" src="about:blank" frameborder="0" style="width:0;height:0;display:none;"></iframe>';this._iframeId=v;x.innerHTML=y;if(n.indexOf("?")===-1){o.action=n+"?callback="+p}else{o.action=n+"&callback="+p}o.target=v;if(r){if(typeof r==="string"){r=g(r)||{}}for(z in r){t.push('<input type="hidden" name="');t.push(z);t.push('" value="');t.push(r[z]);t.push('" />')}o.innerHTML=t.join("")}o.submit()},inProgress:function(){return !!(me._iframeId&&document.getElementById(me._iframeId))},_clear:function(){var n=this._iframeId&&document.getElementById(this._iframeId);if(n){n.parentNode.removeChild(n)}this._iframeId=null},cancel:function(){this._clear()},destroy:function(){var n=this._form,o=this._placeholder;n.parentNode.removeChild(n);o.parentNode.removeChild(o);this._form=null;this._placeholder=null;delete i[this._callbackName];this._iframeId=null}});d.IframeMsgSender=b})(window,SINA);(function(n,g){if(!n.WeiboCard){n.WeiboCard={}}var k=n.WeiboCard,F=n.WeiboMod,z=F.UserCardPopup,x=n.XDPost,c=F.Utils,w=c.pageX,v=c.pageY,p=c.cloneNode,I=c.createFromString,G=g.QueryString,e=g.JSON,t=g.DOM,s=g.Event,h=g.extend,m=t.style,j=t.hasClass,y=t.addClass,o=t.removeClass,b=t.cache,A=s.addListener,l=s.removeListener,a=s.trigger,u=g.IO.getJSONP,i=g.UA.ie,q=g.isElement,r=function(){},B=function(K){K=K||{};var J=K.url,L=K.data||{},M=K.onsuccess||r,E=K.onfailure||r,D;if(!J||typeof J!=="string"){E({code:-10000003,msg:"接口 URL 未指定"});return}if(x.mode==="html5"){L=G.stringify(L);D=function(O){O=e.parse(O);var N=O&&O.result&&O.result.status;if(N&&N.code===0){M(O.result.data)}else{if(N){E(N)}else{E({code:-10000001,msg:"未知错误"})}}}}else{D=function(O){var N=O&&O.result&&O.result.status;if(N&&N.code===0){M(O.result.data)}else{if(N){E(N)}else{E({code:-10000001,msg:"未知错误"})}}}}x.send({url:J,data:L,onsuccess:D,onfailure:r})},C=function(K){K=K||{};if(!K.url||typeof K.url!=="string"){E({code:-10000003,msg:"接口 URL 未指定"});return}var J=K.url,L=K.data||{},D=G.stringify(L),M=K.onsuccess||r,E=K.onfailure||r;u(J,D,function(O){var N=O&&O.result&&O.result.status;if(N&&N.code===0){M(O.result.data)}else{if(N){E(N)}else{E({code:-10000001,msg:"未知错误"})}}})},f="http://api.sina.com.cn/weibo/",d=function(D){a(k._popupCard.wrapperBox,"mouseleave");a(k._dropdownCard.wrapperBox,"mouseleave");l(this,"mouseleave",d);return false},H={};h(k,{_get:C,_post:B,apis:{getUser:f+"2/users/show.json",follow:f+"2/friendships/create.json",appKey:"2835469272"},config:function(D){h(this.apis,D,true)},getUser:function(J){J=J||{};var D=J.url,E=this.apis;if(!D){D=E.getUser}if(D.indexOf("?")>=0){D+="&source="+E.appKey}else{D+="?source="+E.appKey}J.url=D;C(J)},follow:function(J){J=J||{};var D=J.url,E=this.apis;if(!D){D=E.follow}if(D.indexOf("?")>=0){D+="&source="+E.appKey}else{D+="?source="+E.appKey}J.url=D;B(J)},_popupCard:null,_setPosition:function(E,N,P){var M=E.wrapperBox,J=E.elements.arrow,L=J.parentNode,R=0,Q=0,O,T,K,S=document.documentElement,U=document.body,D=n.pageYOffset||(S&&S.scrollTop)||U.scrollTop;if(N){O=parseInt(m(N,"height"))||0;R=w(N);Q=v(N);if(R<0){R=0}if(Q<0){Q=0}}K=parseInt(m(M,"height"))||0;R=R-12;if(R<0){R=0}if(P===1){R=R+12;Q=Q+O+2;y(J,"weibomod-arrow-top")}else{if(Q-K-5<D){Q=Q+O+8;y(J,"weibomod-arrow-top")}else{Q=Q-K-5;o(J,"weibomod-arrow-top")}}if(Q<0){Q=0}L.removeChild(J);L.appendChild(J);E.move(R,Q)},show:function(M,N,E){if(q(N)){E=N;N=""}if(!this.ready||!this._popupCard){var D=z.EVENTS.FOLLOW,K=z.EVENTS.UNFOLLOW,J=new z({width:260,borderWidth:4}),P=new z({width:220,borderWidth:1});J.addListener(D,function(X){var U=X.uid,W=X.channel,S=n.sinaSSOManager,R,Q="http://weibo.com/login.php",Y="您还没有登录，无法添加关注。是否现在登录？";if(!U){return}var T=n.GB_SUDA&&n.GB_SUDA._S_uaTrack;if(W&&T){var V=U+"_"+W;T("tblog_attention_click_zw",V)}R=S&&S.getSinaCookie();if(!(R&&R.name&&R.bt)){if(confirm(Y)===true){n.open(Q)}return}k.follow({data:{uid:U},onsuccess:function(Z){J.changeStatus(true)},onfailure:function(Z){var aa=(Z&&Z.code)||-1,ab=(Z&&Z.msg)||"";if(aa==20506){J.changeStatus(true)}else{alert("关注失败："+ab)}}})});P.addListener(D,function(X){var U=X.uid,W=X.channel,S=n.sinaSSOManager,R,Q="http://weibo.com/login.php",Y="您还没有登录，无法添加关注。是否现在登录？";if(!U){return}var T=n.GB_SUDA&&n.GB_SUDA._S_uaTrack;if(W&&T){var V=U+"_"+W;T("tblog_attention_click_zwm",V)}R=S&&S.getSinaCookie();if(!(R&&R.name&&R.bt)){if(confirm(Y)===true){n.open(Q)}return}k.follow({data:{uid:U},onsuccess:function(Z){P.changeStatus(true)},onfailure:function(Z){var aa=(Z&&Z.code)||-1,ab=(Z&&Z.msg)||"";if(aa==20506){P.changeStatus(true)}else{alert("关注失败："+ab)}}})});J.render(document.body);P.render(document.body);y(P.wrapperBox,"weibomod-dropdown");k._popupCard=J;k._dropdownCard=P;k.ready=true}A(E,"mouseleave",d);var O=this,J=O._popupCard,P=O._dropdownCard,L;if(j(E,"weibo-card-dropdown")){P.setLoading(true);O._setPosition(P,E,1);a(P.wrapperBox,"mouseenter");L=b(E,"user-data");if(L){P.setUserData(L,N,"zwm");P.setLoading(false);O._setPosition(P,E,1)}else{O.getUser({data:{uid:M},onsuccess:function(Q){P.setUserData(Q,N,"zwm");P.setLoading(false);O._setPosition(P,E,1);b(E,"user-data",Q)}})}}else{J.setLoading(true);O._setPosition(J,E);a(J.wrapperBox,"mouseenter");L=b(E,"user-data");if(L){J.setUserData(L,N,"zw");J.setLoading(false);O._setPosition(J,E)}else{O.getUser({data:{uid:M},onsuccess:function(Q){Q.maxChar=47;J.setUserData(Q,N,"zw");J.setLoading(false);O._setPosition(J,E);b(E,"user-data",Q)}})}}}});if(i){k.apis.follow=f+"2/friendships/create.xml"}})(window,SINA);

//path
(function(){
if(window.frameElement){return};
var script = document.createElement('script');
script.src = 'http://news.sina.com.cn/js/87/2012/path.js';
document.getElementsByTagName('head')[0].appendChild(script);
})();